!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t=function(){return r};var n,r={},i=Object.prototype,o=i.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",s=l.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(n){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),l=new A(r||[]);return a(o,"_invoke",{value:E(e,n,l)}),o}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}r.wrap=f;var v="suspendedStart",y="suspendedYield",h="executing",m="completed",g={};function b(){}function x(){}function w(){}var k={};d(k,u,(function(){return this}));var _=Object.getPrototypeOf,j=_&&_(_(I([])));j&&j!==i&&o.call(j,u)&&(k=j);var S=w.prototype=b.prototype=Object.create(k);function L(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function O(t,n){function r(i,a,l,u){var c=p(t[i],t,a);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==e(d)&&o.call(d,"__await")?n.resolve(d.__await).then((function(e){r("next",e,l,u)}),(function(e){r("throw",e,l,u)})):n.resolve(d).then((function(e){s.value=e,l(s)}),(function(e){return r("throw",e,l,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(e,t){function o(){return new n((function(n,i){r(e,t,n,i)}))}return i=i?i.then(o,o):o()}})}function E(e,t,r){var i=v;return function(o,a){if(i===h)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:n,done:!0}}for(r.method=o,r.arg=a;;){var l=r.delegate;if(l){var u=C(l,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===v)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var c=p(e,t,r);if("normal"===c.type){if(i=r.done?m:y,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function C(e,t){var r=t.method,i=e.iterator[r];if(i===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=n,C(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=p(i,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,g;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,g):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function e(){for(;++i<t.length;)if(o.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}throw new TypeError(e(t)+" is not iterable")}return x.prototype=w,a(S,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:x,configurable:!0}),x.displayName=d(w,s,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,d(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},r.awrap=function(e){return{__await:e}},L(O.prototype),d(O.prototype,c,(function(){return this})),r.AsyncIterator=O,r.async=function(e,t,n,i,o){void 0===o&&(o=Promise);var a=new O(f(e,t,n,i),o);return r.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(S),d(S,s,"Generator"),d(S,u,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},r.values=I,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return l.type="throw",l.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:I(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),g}},r}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function a(t,n,r){return n=u(n),function(t,n){if(n&&("object"==e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(t,l()?Reflect.construct(n,r||[],u(t).constructor):n.apply(t,r))}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l=function(){return!!e})()}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function d(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,n||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}function p(e,t,n,r,i,o,a){try{var l=e[o](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){p(o,r,i,a,l,"next",e)}function l(e){p(o,r,i,a,l,"throw",e)}a(void 0)}))}}System.register(["./index-legacy-BnT4rcVz.js","./RForm.vue_vue_type_script_setup_true_lang-legacy-CQJ14iDy.js","./RestBase-legacy-CyaXmJsG.js","./index-legacy-DjC9o_w0.js","./index-legacy-C5nl4eCF.js","./RButton.vue_vue_type_style_index_0_lang-legacy-CorltFxv.js","./usePopupContainer-legacy-B27Yz2o4.js","./index-legacy-BcQgjaEy.js"],(function(e,r){"use strict";var l,u,s,f,p,y,h,m,g,b,x,w,k,_,j,S,L,O,E,C,F,P,A,I,T,N,V,z,U,R,q,K,G,B,M,D,J,Y,$,H,W,X,Z,Q,ee,te,ne,re,ie,oe,ae,le,ue,ce;return{setters:[function(e){l=e.C,u=e.n,s=e.z,f=e.aj,p=e.d,y=e.h,h=e.ak,m=e.al,g=e.r,b=e.i,x=e.w,w=e.a,k=e.E,_=e.am,j=e.x,S=e.y,L=e.c,O=e.A,E=e.U,C=e.ae,F=e.q,P=e.H,A=e.an,I=e.ao,T=e.ap,N=e.N,V=e.G,z=e.ad,U=e.aq,R=e.p,q=e.o,K=e.X,G=e.j,B=e.Y,M=e.k,D=e.S,J=e.v,Y=e.O,$=e.Z,H=e.M,W=e.T,X=e.L},function(e){Z=e._},function(e){Q=e.R,ee=e.C},function(e){te=e.r,ne=e.R,re=e.b},function(e){ie=e.d,oe=e.l},function(e){ae=e._},function(e){le=e.u},function(e){ue=e._}],execute:(ce=v(t().mark((function r(){var ce,se,de,fe,pe,ve,ye,he,me,ge,be,xe,we,ke,_e,je,Se,Le,Oe,Ee,Ce,Fe,Pe,Ae,Ie,Te,Ne,Ve,ze,Ue,Re,qe,Ke,Ge,Be,Me,De,Je,Ye,$e,He,We,Xe,Ze,Qe,et,tt,nt,rt,it,ot,at,lt,ut,ct,st,dt,ft,pt,vt,yt,ht,mt,gt,bt,xt;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return Xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.duration,i=void 0===r?4:r,o=n.onClose,a=n.key,l=null!=a?a:T(),u="flex-center h-5 min-w-5 mr-2 mt-0.2 w-5 !bg-transparent";return I[t]({content:e,duration:i,onClose:o,icon:function(){switch(t){case"error":return L(Ue,{class:u,iconSize:"1.3em"},null,8,["class"]);case"success":return L(Ge,{class:u,iconSize:"1.3em"},null,8,["class"]);case"info":return L(Me,{class:u,iconSize:"1.3em"},null,8,["class"]);case"warning":return L(qe,{class:u,iconSize:"1.3em"},null,8,["class"])}}(),key:l}),l},We=function(e,t){return Xe(e,"loading",t)},He=function(e,t){return Xe(e,"warning",t)},$e=function(e,t){return Xe(e,"warning",t)},Ye=function(e,t){return Xe(e,"info",t)},Je=function(e,t){return Xe(e,"error",t)},De=function(e,t){return Xe(e,"success",t)},be=function(e,t){return u(),s("div",me,ge)},se=[{title:"Nombre",dataIndex:"name",align:"center",key:"name",sorter:function(e,t){return+(e.name>t.name)-+(e.name<t.name)}},{title:"Tipo",dataIndex:"type",align:"center",key:"type",sorter:function(e,t){return+(e.type>t.type)-+(e.type<t.type)}},{title:"Estructura",dataIndex:"strcuture",align:"center",key:"strcuture",sorter:function(e,t){return+(e.strcuture>t.strcuture)-+(e.strcuture<t.strcuture)}},{title:"Acciones",key:"_action",fixed:"right",width:"5%",scopedSlots:{customRender:"_action"}}],de={create:{name:{required:te},type:{required:te},strcuture:{}},update:{name:{required:te},type:{required:te},strcuture:{}}},fe={create:{id:{isUnique:"This id has been taken"}},update:{id:{isUnique:"This id has been taken"}}},r.next=15,Q("attributes","masters/attributes");case 15:pe=r.sent,ve=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i(this,t),d(e=a(this,t),"id",void 0),d(e,"name",void 0),d(e,"type",void 0),d(e,"strcuture",void 0),d(e,"created_at",void 0),d(e,"updated_at",void 0),null!=n&&(e.id=n.id||void 0,e.name=n.name||null,e.type=n.type||null,e.strcuture=n.strcuture||null,e.created_at=n.created_at?ie(n.created_at):null,e.updated_at=n.updated_at?ie(n.updated_at):null),e}return c(t,e),n=t,r=[{key:"set_attributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=e&&(this.id=e.id,this.name=e.name,this.type=e.type,this.strcuture=e.strcuture,this.created_at=ie(e.created_at),this.updated_at=ie(e.updated_at))}},{key:"get_id",value:function(){return this.id}},{key:"class_name",value:function(){return"Attributes"}}],r&&o(n.prototype,r),l&&o(n,l),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,l}(pe),ce=ve,d(ve,"validations",de),d(ve,"feedbacks",fe),d(ve,"columns",se),d(ve,"visible_columns",ce.show_columns(["name","type","_action"],!0)),e("A",ve),ye=[{key:"string",text:"String"},{key:"number",text:"Number"},{key:"boolean",text:"Boolean"},{key:"object",text:"Object"}],he={},me={class:"key-value-editor flex flex-col pl-5"},ge=[f('<div class="flex flex-row"><div style="margin-top:-30px;" class="vert-dots"><p></p></div></div><div class="flex flex-row"><div class="hor-dots"><p></p></div><div class="transform -translate-y-1"><span title="Agregar campo"><div class="i-heroicons:plus-circle insert-field-icon"></div></span></div></div>',2)],xe=l(he,[["render",be]]),we={class:"flex flex-row"},ke=[j("p",null,null,-1)],_e=[j("p",null,null,-1)],je={class:"ml-0 flex flow-row items-center space-x-3"},Se={class:"input-container !ml-0"},Le=j("span",null,"=",-1),Oe={class:"input-container"},Ee={key:0,title:"Eliminar este campo"},Ce={class:"flex flex-row"},Fe=[j("p",null,null,-1)],Pe={key:0,class:"flex flex-col pb-4"},Ae={key:0,class:"flex flex-row"},Ie=[j("p",null,null,-1)],Te={class:"transform -translate-y-1"},Ne=[j("div",{"w:group-hover":"text-dark-900","w:dark":"group-hover:text-slate-200",class:"i-heroicons:plus-circle-solid text-gray-500 remove-field-icon"},null,-1),j("span",{class:"ml-2 mb-1 text-gray-500","w:dark":"group-hover:text-slate-400","w:group-hover":"text-dark-900"}," Agregar campo ",-1)],Ve=p({__name:"KeyValueEditorItem",props:{isLast:y.bool.def(!1),isFirst:y.bool.def(!1),field:y.object,level:y.number.def(1),index:y.number.isRequired,parentIndex:y.number.def(1)},emits:["addField","removeField"],setup:function(e,r){var i=r.emit,o=e,a=i,l=h(o,"field"),c=n(m(),2),d=c[0],f=c[1],p=g(o.level),y=b("focusedLevel"),A=b("maxDeep"),I=b("editable"),T=b("parentIndex"),N=b("changeLevelFocused"),V=b("validateKey"),z=b("addInvalid");x(V,v(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.value.validate();case 2:e.sent||null==z||z();case 4:case"end":return e.stop()}}),e)}))));var U=w((function(){return p.value==(null==y?void 0:y.value)&&(null==T?void 0:T.value)==o.parentIndex})),R=w((function(){return p.value<k(A)}));function q(){a("addField")}function K(){a("removeField",o.index)}function G(e){l.value.fields.splice(e,1)}function B(){l.value.fields||(l.value.fields=[]),l.value.fields.push({field:"",type:"string"})}_(d,(function(){return null==N?void 0:N(p.value,o.parentIndex)})),_(oe(d),(function(){setTimeout((function(){d.value||null==N||N(null)}),200)}));var M={required:te},D={required:"Obligatorio"},J=g(),Y=le("click"),$=Y.getPopupContainerFn,H=Y.container;return function(t,n){var r=P("KeyValueEditorItem",!0);return u(),s("div",{ref_key:"container",ref:H,class:"key-value-editor flex flex-col pl-5"},[j("div",we,[j("div",{class:S(["vert-dots",{first:e.isFirst,active:k(U)}])},ke,2),j("div",{class:S([{"pb-5":e.isLast&&1===k(p)},"flex flow-row items-center"])},[j("div",{class:S([{active:k(U)},"hor-dots"])},_e,2),j("div",je,[j("div",Se,[L(k(ne),{ref_key:"input",ref:J,modelValue:k(l).field,"onUpdate:modelValue":n[0]||(n[0]=function(e){return k(l).field=e}),feedbacks:D,validations:M,disabled:!k(I),label:"Campo",onChangeFocus:k(f)},null,8,["modelValue","disabled","onChangeFocus"])]),Le,j("div",Oe,[L(k(re),{modelValue:k(l).type,"onUpdate:modelValue":n[1]||(n[1]=function(e){return k(l).type=e}),getPopupContainer:k($),"id-key":"key",items:k(ye),disabled:!k(I),label:"Tipo"},null,8,["modelValue","getPopupContainer","items","disabled"])]),k(I)?(u(),s("span",Ee,[j("div",{class:"i-heroicons:minus-circle-solid remove-field-icon",onClick:K})])):O("",!0)])],2)]),j("div",Ce,[j("div",{class:S([{active:k(U)},"vert-dots"])},Fe,2),k(l).fields&&k(l).fields.length?(u(),s("div",Pe,[(u(!0),s(E,null,C(k(l).fields,(function(t,n){return u(),F(r,{key:n,field:k(l).fields[n],"onUpdate:field":function(e){return k(l).fields[n]=e},isFirst:0===n,isLast:n===k(l).fields.length-1,level:k(p)+1,class:"pl-15",index:n,parentIndex:e.index,onRemoveField:G,onAddField:B},null,8,["field","onUpdate:field","isFirst","isLast","level","index","parentIndex"])})),128))])):"object"===k(l).type&&k(I)?(u(),F(xe,{key:1,class:"pl-15",onClick:B})):O("",!0)]),e.isLast&&k(I)&&k(R)?(u(),s("div",Ae,[j("div",{class:S([{active:k(U)},"hor-dots"])},Ie,2),j("div",Te,[k(U)?(u(),s("span",{key:1,class:"cursor-pointer group flex items-center",onClick:q},Ne)):(u(),s("span",{key:0,title:"Agregar campo",onClick:q},[j("div",{class:S(["i-heroicons:plus-circle insert-field-icon",{active:k(U)}])},null,2)]))])])):O("",!0)],512)}}}),ze={class:"w-fit-content h-fit-content rounded-full flex-center bg-opacity-10 bg-rose-500"},Ue=p({__name:"DangerCircle",props:{iconSize:{type:String,default:"1.7em"}},setup:function(e){return function(t,n){return u(),s("div",ze,[j("div",{style:A({"font-size":e.iconSize}),class:"i-heroicons:exclamation-circle dark:text-rose-600 dark:text-opacity-80 text-rose-500"},null,4)])}}}),Re={class:"w-fit-content h-fit-content bg-yellow-500 rounded-full flex-center bg-opacity-10"},qe=p({__name:"WarningCircle",props:{iconSize:{type:String,default:"1.7em"}},setup:function(e){return function(t,n){return u(),s("div",Re,[j("div",{style:A({"font-size":e.iconSize}),class:"i-heroicons:exclamation-circle dark:text-yellow-400 dark:text-opacity-80 text-yellow-500"},null,4)])}}}),Ke={class:"w-fit-content h-fit-content rounded-full flex-center bg-opacity-10 bg-green-500"},Ge=p({__name:"SuccessCircle",props:{iconSize:{type:String,default:"1.7em"}},setup:function(e){return function(t,n){return u(),s("div",Ke,[j("div",{style:A({"font-size":e.iconSize}),class:"i-heroicons:check-circle dark:text-green-400 dark:text-opacity-80 text-green-400"},null,4)])}}}),Be={class:"w-fit-content h-fit-content rounded-full flex-center bg-opacity-10 bg-blue-500"},Me=p({__name:"InfoCircle",props:{iconSize:{type:String,default:"1.7em"}},setup:function(e){return function(t,n){return u(),s("div",Be,[j("div",{style:A({"font-size":e.iconSize}),class:"i-heroicons:information-circle dark:text-blue-400 dark:text-opacity-80 text-blue-400"},null,4)])}}}),I.config({top:"60px",duration:2,maxCount:3}),Ze={success:De,error:Je,warning:$e,info:Ye,warn:He,loading:We,destroy:I.destroy},Qe={class:"relative json-tree"},et={for:"",class:"font-bold"},tt={class:"mt-10"},nt=p({__name:"JsonTree",props:{fields:y.array.def([]),label:y.string,editable:y.bool.def(!0),maxDeep:y.number.def(50)},setup:function(e,r){var i=r.expose,o=e,a=N(o),l=a.editable,c=a.maxDeep,d=h(o,"fields"),f=g(),p=g();function y(){d.value.push({field:"",type:"string"})}function b(e){d.value.splice(e,1)}var x=n(m(),2),w=x[0],_=x[1],S=g(0);function L(){return(L=v(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.value.length){e.next=5;break}return Ze.warn("Debe agregar al menos un campo"),e.abrupt("return",!1);case 5:return S.value=0,_(!0),z((function(){return _(!1)})),e.next=10,U(200);case 10:return e.abrupt("return",0==S.value);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return R("editable",l),R("maxDeep",c),R("addInvalid",(function(){S.value++})),R("validateKey",w),R("focusedLevel",f),R("parentIndex",p),R("changeLevelFocused",(function(e,t){f.value=e,p.value=t})),i({validate:function(){return L.apply(this,arguments)}}),function(t,n){return u(),s("div",Qe,[j("label",et,V(e.label),1),j("div",tt,[k(d).length?(u(!0),s(E,{key:0},C(k(d),(function(e,t){return u(),F(Ve,{key:t,field:k(d)[t],"onUpdate:field":function(e){return k(d)[t]=e},isFirst:0===t,isLast:t===k(d).length-1,index:t,onAddField:y,onRemoveField:b},null,8,["field","onUpdate:field","isFirst","isLast","index"])})),128)):(u(),F(xe,{key:1,onClick:y}))])])}}}),rt={ref:"container",class:"overflow-hidden mt-5"},it=p({__name:"RAttribute",props:{data:void 0|y.arrayOf(y.object).isRequired},setup:function(e){var t=e,n=g([]),r=g(["0-0","0-1"]),i=g([]),o=[];return q((function(){null!=t.data&&(t.data,Object.values(t.data).forEach((function(e,t){var r={title:"",key:"",children:[]};r.title=e.field,r.key="0-".concat(t),"object"===e.type&&Object.values(e.fields).forEach((function(e,t){r.children.push({title:e.field,key:"0-".concat(t,"-").concat(t),isLeaf:!0})})),n.value.push(r)})),r.value=t.data.map((function(e,t){return"0-".concat(t)})),o=n.value)})),function(e,t){var n=ue;return u(),s("div",rt,[L(n,{expandedKeys:r.value,"onUpdate:expandedKeys":t[0]||(t[0]=function(e){return r.value=e}),selectedKeys:i.value,"onUpdate:selectedKeys":t[1]||(t[1]=function(e){return i.value=e}),multiple:"","tree-data":k(o)},null,8,["expandedKeys","selectedKeys","tree-data"])],512)}}}),ot={class:"r-container-form"},at={class:"mt-10 sm:mt-0"},lt={class:"shadow overflow-hidden sm:rounded-md"},ut={class:"px-4 py-5 bg-white dark:bg-slate-800 sm:p-6"},ct={class:"grid grid-cols-4 gap-4"},st={class:"grid-input"},dt={class:"grid-input"},ft={class:"px-4 py-5 bg-white dark:bg-slate-800 sm:p-6"},pt={class:"grid grid-cols-4 gap-4"},vt={class:"col-span-2"},yt={class:"px-4 py-3 bg-gray-50 dark:bg-slate-700 dark:bg-opacity-70 text-right sm:px-6"},ht={class:"r-footer-form"},mt={class:"flex"},gt={key:0,class:"flex-none items-center"},bt=[j("label",{for:"andNew",class:"font-bold text-gray-700 dark:text-slate-200 !cursor-pointer"},[X("Insertar y nuevo "),j("span",{id:"andNew-description",class:"ml-1 text-muted"},"Se insertará un elemento y reiniciará el formulario")],-1)],xt={class:"r-footer-button-form"},e("_",p({__name:"AttributesForm",props:K({modal:y.bool.def(!1),action:y.string.def("create"),loading_text:y.string.def(""),showLoading:y.bool.def(!0)},{modelValue:{},modelModifiers:{}}),emits:K(["closeModal","reload"],["update:modelValue"]),setup:function(e,n){var r=n.emit,i=G(),o=e,a=r,l="create"==o.action?"Crear":"Actualizar",c=B(e,"modelValue"),d=M(new ve(c.value)),f=g(),p=g(!1),y=g(!1),h=g(!1),m=g([]),b=g([]),x=ve.useStaticSave(d,{defaultEnabled:!1}),w=x.loading,_=x.toggleEnabled,S=x.onResult,C=x.enabled,P=x.onError,A=g(!1),I=function(){o.modal?a("closeModal"):i.push({name:"blocks_list"})};function T(){return N.apply(this,arguments)}function N(){return(N=v(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"update"===o.action&&(d.strcuture=JSON.stringify(b.value)),"create"===o.action&&(d.strcuture=JSON.stringify(m.value)),e.next=4,null===(n=f.value)||void 0===n?void 0:n.validate();case 4:e.sent&&_();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}P((function(e){D("error","Error en accion","Error en accion del elemento")})),S((function(e){var t;D("success","Accion  "+l,"Accion ejecutada correctamente"),p.value?(null===(t=f.value)||void 0===t||t.clear(),C.value=!1,Object.assign(d,new ve(c.value)),o.modal&&a("reload")):o.modal?a("closeModal",!0):i.push({name:"blocks_list"})}));var z=function(){y.value=!0},U=function(){h.value=!0},R=function(){y.value=!1},K=function(){h.value=!1};return q((function(){"update"===o.action&&(b.value=JSON.parse(d.strcuture),h.value=!0)})),function(t,n){var r=ee;return u(),s(E,null,[e.showLoading?(u(),F($,{key:0,"h-full":!0,class:"",loading:k(A),description:o.loading_text},{default:J((function(){return[Y(t.$slots,"loading_icon")]})),_:3},8,["loading","description"])):O("",!0),j("div",ot,[j("div",at,[j("div",lt,[L(Z,{ref_key:"attributesForm",ref:f,state:k(d),validations:k(ve).validations[e.action],feedbacks:k(ve).feedbacks[e.action],loading:!0},{default:J((function(){return[j("div",ut,[j("div",ct,[j("div",st,[L(k(ne),{type:"text",requiredMark:!0,modelValue:k(d).name,"onUpdate:modelValue":n[0]||(n[0]=function(e){return k(d).name=e}),path:"name",label:"Nombre",onKeyup:H(T,["enter"])},null,8,["modelValue"])]),j("div",dt,[L(k(ne),{type:"text",requiredMark:!0,modelValue:k(d).type,"onUpdate:modelValue":n[1]||(n[1]=function(e){return k(d).type=e}),path:"type",label:"Tipo",onKeyup:H(T,["enter"])},null,8,["modelValue"])])])]),j("div",ft,[j("div",pt,[j("div",vt,["create"===e.action?(u(),F(nt,{key:0,ref:"jsonTree",fields:k(m),"onUpdate:fields":n[2]||(n[2]=function(e){return W(m)?m.value=e:m=e}),label:"Create json template",class:"w-full"},null,8,["fields"])):O("",!0),"update"===e.action?(u(),F(nt,{key:1,ref:"jsonTree",fields:k(b),"onUpdate:fields":n[3]||(n[3]=function(e){return W(b)?b.value=e:b=e}),label:"Create json template",class:"w-full",onClick:K},null,8,["fields"])):O("",!0)]),k(y)&&"create"===e.action?(u(),F(it,{key:0,data:k(m)},null,8,["data"])):O("",!0),k(h)&&k(b).length>0&&"update"===e.action?(u(),F(it,{key:1,data:k(b)},null,8,["data"])):O("",!0),k(m).length>0&&!k(y)?(u(),F(ae,{key:2,class:"ml-5",shadow:"",color:"primary",loading:k(w),onClick:z},{default:J((function(){return[X(" Vista previa de atributos ")]})),_:1},8,["loading"])):O("",!0),k(b).length>0&&!k(h)?(u(),F(ae,{key:3,class:"ml-5",shadow:"",color:"primary",loading:k(w),onClick:U},{default:J((function(){return[X(" Vista previa de atributos ")]})),_:1},8,["loading"])):O("",!0),k(y)?(u(),F(ae,{key:4,class:"ml-5",shadow:"",color:"primary",loading:k(w),onClick:R},{default:J((function(){return[X(" Borrar mapa de atributos ")]})),_:1},8,["loading"])):O("",!0),k(h)?(u(),F(ae,{key:5,class:"ml-5",shadow:"",color:"primary",loading:k(w),onClick:K},{default:J((function(){return[X(" Borrar mapa de atributos ")]})),_:1},8,["loading"])):O("",!0)])]),j("div",yt,[j("div",ht,[j("div",mt,["create"===e.action?(u(),s("div",gt,[L(r,{checked:k(p),"onUpdate:checked":n[4]||(n[4]=function(e){return W(p)?p.value=e:null}),"aria-describedby":"offers-description",id:"andNew"},null,8,["checked"])])):O("",!0),"create"===e.action?(u(),s("div",{key:1,onClick:n[5]||(n[5]=function(e){return k(p).value!=k(p).value}),class:"flex text-sm absolute mx-[2rem] my-[4px]"},bt)):O("",!0)]),j("div",xt,[L(ae,{class:"ml-5",shadow:"",color:"primary",loading:k(w),onClick:T},{default:J((function(){return[X(V(k(l))+" Atributos ",1)]})),_:1},8,["loading"]),L(ae,{class:"ml-5",shadow:"",color:"primary",onClick:I},{default:J((function(){return[X(" Cancelar ")]})),_:1})])])])]})),_:1},8,["state","validations","feedbacks"])])])])],64)}}}));case 85:case"end":return r.stop()}}),r)}))),function(){return ce.apply(this,arguments)})}}))}();
