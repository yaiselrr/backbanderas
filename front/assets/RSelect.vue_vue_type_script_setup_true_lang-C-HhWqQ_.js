const __vite__fileDeps=["assets/RDropdown-BkoP24M8.js","assets/RDropdownItem-D4W2jB5B.js","assets/index-D0wN_fuZ.js","assets/index-D-OtIBMI.js","assets/dropdown-DdxiuV_U.js","assets/colors-Bmc914HC.js","assets/createContext-Cl9SgfpP.js","assets/supportsPassive-pertglWR.js","assets/index-C2qDfXmS.js","assets/usePopupContainer-BObfUw_y.js","assets/index-brT4NzTB.js","assets/ClearButton-D4yBJSZU.js","assets/useValidation-Dimmn3XB.js","assets/index-CFoXpmaN.js","assets/index-BtQlog3F.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{J as e,K as l,d as t,h as a,bK as o,N as r,a as n,bL as s,r as i,n as d,z as u,c,v as m,x as p,az as f,bM as v,E as g,T as y,F as x,A as h,bd as b,U as k,ae as w,O as C,B as T,q as _,br as S,G as V,ah as $,L as K,w as I,ad as O,av as j,o as P,k as R,bN as L,y as A,aA as F}from"./index-D0wN_fuZ.js";import{C as D}from"./ClearButton-D4yBJSZU.js";import{a as E,u as M,_ as N}from"./useValidation-Dimmn3XB.js";import"./index-D-OtIBMI.js";import{u as q}from"./usePopupContainer-BObfUw_y.js";import{D as z,a as B}from"./dropdown-DdxiuV_U.js";import"./index-brT4NzTB.js";import{s as G}from"./index-CFoXpmaN.js";const U=["bottomLeft","bottom","bottomRight","topLeft","top","topRight"];e((()=>l((()=>import("./RDropdown-BkoP24M8.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))));const J=e((()=>l((()=>import("./RDropdownItem-D4W2jB5B.js")),__vite__mapDeps([1,2])))),Z={class:"dropdown-slot-container bg-white rounded-md"},H={class:"bg-white dark:border-slate-600 app-dropdown border rounded-lg py-1.5 shadow-md"},Q={key:0,class:"py-1 px-2"},W={key:1,class:"px-3 w-full mx-auto justify-center py-3 flex"},X={key:2,class:"max-h-300px overflow-auto"},Y={class:"ml-1"},ee={class:"w-full flex color-inherit whitespace-nowrap flex-row space-x-3"},le={class:"whitespace-nowrap color-inherit"},te={key:0,"w:hover":" text-white","w:dark":"text-primary-400 group-hover:text-primary-400",class:"text-primary-600 !ml-auto pl-5","w:group-hover":"text-white"},ae=[p("div",{class:"i-heroicons:check text-md font-normal !ml-auto text-17px"},null,-1)],oe={key:3,class:"!opacity-90 text-center justify-center flex flex-col items-center py-3"},re=[p("div",{class:"i-mdi:magnify-remove-outline text-4xl text-muted"},null,-1),p("span",{class:"text-muted"},"No results",-1)],ne=t({__name:"RSelectDropdown",props:{items:a.arrayOf(a.any),selected:a.oneOfType([a.string,a.number,a.arrayOf(String),a.arrayOf(Number)]),multiple:a.bool.def(!1),loading:a.bool.def(!1),disabled:a.bool.def(!1),showFilter:a.bool.def(!1),trigger:a.oneOf(["hover","click"]).def("click"),getPopupContainer:a.func,textKey:a.string,idKey:a.string,filter:a.string.def(""),filterPlaceholder:a.string,hideSelected:a.bool},emits:["clickedItem","update:filter"],setup(e,{expose:l,emit:t}){const a=e,{filter:K}=o(a),{items:I,loading:O,textKey:j,idKey:P,selected:R,multiple:L,trigger:A,getPopupContainer:F}=r(a),{container:D,triggerMode:M,getPopupContainerFn:N}=q(A,F),B=n((()=>Array.isArray(null==R?void 0:R.value)?null:null==R?void 0:R.value)),G=n((()=>Array.isArray(null==R?void 0:R.value)?null==R?void 0:R.value:null)),U=t;const ne=n((()=>{var e;return null==(e=null==I?void 0:I.value)?void 0:e.filter((e=>{var l,t;return s(null==(l=e[j.value])?void 0:l.toLowerCase()).includes(s(null==(t=K.value)?void 0:t.toLowerCase()))}))})),se=n((()=>{var e,l,t,a;return!O.value&&(0!=(null==(e=null==I?void 0:I.value)?void 0:e.length)&&(null==(l=null==I?void 0:I.value)?void 0:l.length)==(null==(t=G.value)?void 0:t.length)||0==(null==(a=ne.value)?void 0:a.length))})),{ref:ie,focus:de}=E();return l({focusFilter:de}),i({}.image),(l,t)=>(d(),u("div",{ref_key:"container",ref:D,class:"flex"},[c(g(z),T({getPopupContainer:g(N),disabled:e.disabled},l.$attrs,{trigger:g(M)}),{overlay:m((()=>{var l,a;return[p("div",H,[e.showFilter?(d(),u("div",Q,[f(p("input",{ref_key:"filterRef",ref:ie,"onUpdate:modelValue":t[0]||(t[0]=e=>y(K)?K.value=e:null),class:"border outline-none px-2 py-1 w-full rounded-md dark:bg-slate-800 dark:border-slate-700 dark:hover:bg-slate-700 dark:active:bg-slate-800 dark:focus:bg-slate-800 dark:text-white",type:"text",placeholder:"Filtrar Elemento",onClick:x((()=>{}),["prevent","stop"])},null,512),[[v,g(K)]])])):h("",!0),g(O)?(d(),u("div",W,[c(g(b),{loading:!0,size:"22",inherit:!0,class:"text-gray-400"})])):g(L)&&(null==(l=g(I))?void 0:l.length)===(null==(a=g(G))?void 0:a.length)?h("",!0):(d(),u("div",X,[(d(!0),u(k,null,w(g(ne),((l,t)=>{var a;return d(),u(k,{key:t},[g(L)&&e.hideSelected&&(null==(a=g(G))?void 0:a.includes(l[g(P)]))?h("",!0):(d(),_(g(J),{key:0,active:!!g(B)&&l[g(P)]===g(B),onClick:e=>function(e,l){K.value="",U("clickedItem",{item:e,key:e[P.value],event:l})}(l,e)},S({default:m((()=>{var e;return[p("span",ee,[p("span",le,V(l[g(j)]),1),(null==(e=g(G))?void 0:e.includes(l[g(P)]))||g(B)===l[g(P)]?(d(),u("span",te,ae)):h("",!0)])]})),_:2},[l.icon?{name:"icon",fn:m((()=>[p("div",Y,[(d(),_($(l.icon)))])])),key:"0"}:void 0]),1032,["active","onClick"]))],64)})),128))])),g(se)?(d(),u("div",oe,re)):h("",!0)])]})),default:m((()=>[p("div",Z,[C(l.$slots,"default")])])),_:3},16,["getPopupContainer","disabled","trigger"])],512))}}),se={class:"flex flex-row flex-wrap gap-x-1 gap-y-1.4 pl-1"},ie={key:0,style:{"text-overflow":"ellipsis","white-space":"nowrap"},class:"block px-2"},de={key:1},ue={key:1,style:{"text-overflow":"ellipsis","white-space":"nowrap"},class:"block"},ce=["onClick"],me=[p("div",{class:"i-heroicons:x-mark text-gray-500 text-xs",style:{width:"1.2em"},"w:dark":"text-gray-300"},null,-1)],pe={key:0,"w:dark":"bg-gray-700 text-primary-300",class:"bg-gray-200 text-primary-700 inline-flex w-fit-content rounded px-2"},fe=t({__name:"RSelectedTags",props:{tags:a.arrayOf(a.any).def([]),textKey:a.string.isRequired,idKey:a.string.isRequired,maxTagCount:a.number,maxTagTextLength:a.number},emits:["removeTag"],setup(e,{emit:l}){const t=e,{tags:a,maxTagCount:o,maxTagTextLength:s}=r(t),i=l;const f=n((()=>{var e;return o.value?((null==(e=a.value)?void 0:e.length)||0)-o.value:0})),v=n((()=>{var e;return o.value?null==(e=a.value)?void 0:e.slice(0,o.value):a.value}));return(l,a)=>{const o=B;return d(),u("div",se,[(d(!0),u(k,null,w(g(v),(l=>(d(),u("span",{key:l[e.idKey],class:"bg-gray-200 inline-flex rounded w-fit-content mr-1 items-center","w:dark":"bg-gray-700"},[g(s)?(d(),u("span",ie,[l[e.textKey].length>g(s)?(d(),_(o,{key:0,title:l[e.textKey]},{default:m((()=>[p("span",null,V(l[e.textKey].substring(0,g(s)))+"... ",1)])),_:2},1032,["title"])):(d(),u("span",de,V(l[e.textKey]),1))])):(d(),u("span",ue,[c(o,{title:l[e.textKey]},{default:m((()=>[K(V(l[e.textKey]),1)])),_:2},1032,["title"])])),p("span",{"w:hover":"bg-gray-300","w:dark":"bg-gray-700 border-l-gray-700",class:"border-l-gray-300 border-l h-full items-center justify-center px-1 rounded-r flex",onClick:x((e=>function(e){i("removeTag",e[t.idKey])}(l)),["prevent","stop"])},me,8,ce)])))),128)),g(f)>0?(d(),u("span",pe," +"+V(g(f))+" ... ",1)):h("",!0)])}}});const ve={class:"w-full"},ge={class:"flex flex-row"},ye={key:0,class:"text-lg text-red-600"},xe={key:1,class:"text-lg text-gray-500"},he={key:1,class:"mb-0 relative ml-auto !text-xs text-gray-700"},be={class:"absolute bottom-0 right-1"},ke=["value","disabled","placeholder"],we={key:3,class:"px-3 w-fit-content inline-flex"},Ce={key:4,class:"w-fit-content rounded-full mr-2"},Te=[p("div",{class:"i-heroicons:chevron-up-down cursor-pointer",style:{width:"1.2em"}},null,-1)],_e={key:5,class:"px-3"},Se=t({__name:"RSelect",props:{...G,modelValue:a.oneOfType([a.string,a.number,a.arrayOf(String),a.arrayOf(Number)]),defaultValue:a.oneOfType([a.string,a.number,a.arrayOf(String),a.arrayOf(Number)]),selectedItem:a.object,selectedItems:a.arrayOf(Object).def([]),simple:a.bool.def(!1),textKey:a.string.def("text"),idKey:a.string.def("id"),multiple:a.bool.def(!1),showFilter:a.bool.def(!1),hideSelected:a.bool.def(!1),maxTagCount:a.number,maxTagTextLength:a.number.def(10),loadingData:a.bool.def(!1),maxSelections:a.number,debounceMs:a.number.def(500),filterPlaceholder:a.string.def("Filtrar Elemento`"),items:a.arrayOf(a.any),isGray:a.bool,filter:a.string.def(""),trigger:a.oneOf(["hover","click"]).def("click"),getPopupContainer:a.func},emits:["update:modelValue","update:selectedItem","update:selectedItems","onblur","onUpdate:filter","update:filter","changeValue","clickedItem"],setup(e,{expose:l,emit:t}){const a=e,s=t,{modelValue:v,multiple:k,idKey:w,requiredMark:S,containerClass:$,optionalMark:E,labelClass:q,textKey:z,rounded:B,items:G,label:U,loading:J,disabled:Z,defaultValue:H,size:Q,placeholder:W}=r(a),X=!a.path,{clear:Y,inputRef:ee,focused:le,handleChange:te,vobject:ae,stateClasses:oe,getText:re,validateStatus:se,formContainer:ie,validate:de,isLoading:ue,blurInput:ce}=M(X);P((()=>{H&&H.value&&te({target:{value:H.value}})})),I((()=>a.modelValue),(e=>{s("changeValue",e)}));const me=i(),pe=n((()=>(null==Re?void 0:Re.value)?Re.value[z.value]:null)),{onSelect:Se,removeSelection:Ve,clearSelection:$e}=function(){const e=j(),l=null==e?void 0:e.emit,t=null==e?void 0:e.props;function a(e,...t){null==l||l(e,...t)}function o(e,l){if(t){const{modelValue:l}=r(t);l&&l&&a("update:modelValue",[...l.value,e])}}function n(e){if(t){const{modelValue:l,idKey:o}=r(t);l&&a("update:modelValue",l.value.filter((l=>l!==e)))}}function s(e,l){a("update:modelValue",e)}return I((()=>null==t?void 0:t.modelValue),(async()=>{(null==t?void 0:t.multiple)&&!t.modelValue&&O((()=>a("update:modelValue",[])))}),{immediate:!0}),{addSelection:o,removeSelection:n,setSelection:s,onSelect:function({key:e,item:l,event:r}){var i,d;t&&t.multiple?(!t.maxSelections||(null==(i=t.modelValue)?void 0:i.length)<t.maxSelections)&&((null==(d=t.modelValue)?void 0:d.includes(e))?n(e):o(e),r.stopPropagation()):s(e),a("clickedItem",{val:e,item:l,event:r})},clearSelection:function(){(null==t?void 0:t.multiple)?a("update:modelValue",[]):a("update:modelValue",null)}}}();async function Ke(){O((()=>{var e;return null==(e=Oe.value)?void 0:e.focusFilter()}))}function Ie(){$e(),Y(),ce()}const Oe=i(),je=R(new Map);I((()=>null==G?void 0:G.value),(e=>{je.clear(),null==e||e.forEach((e=>{je.set(e[g(w)],e)}))}),{immediate:!0});const Pe=n((()=>{if(k.value&&v&&Array.isArray(v.value)){let e=[];for(let l=0;l<v.value.length;l++){const t=v.value[l];e.push(je.get(t))}return e}return[]})),Re=n((()=>!k.value&&(null==v?void 0:v.value)?je.get(null==v?void 0:v.value):null));I(Re,(()=>{s("update:selectedItem",Re.value)})),I(Pe,(()=>{s("update:selectedItems",Pe.value)}));const{filter:Le}=o(a);return L(me,(()=>Le.value=me.value),{debounce:a.debounceMs}),l({validate:de,clear:Ie,selectedItems:Pe,selectedItem:Re,filterValue:me}),(l,t)=>{var a,o;return d(),u("div",ve,[p("div",ge,[g(U)?(d(),u("label",{key:0,"w:dark":"text-gray-300",class:A([g(q),"mb-1 text-dark-200"])},[K(V(g(U))+" ",1),(null==(a=g(ae))?void 0:a.required)&&g(S)?(d(),u("span",ye,"*")):h("",!0),g(E)?(d(),u("span",xe,"(optional)")):h("",!0)],2)):h("",!0),e.maxSelections&&g(k)?(d(),u("label",he,[p("span",be,V((null==(o=g(v))?void 0:o.length)||0)+"/"+V(e.maxSelections),1)])):h("",!0)]),p("div",{ref_key:"formContainer",ref:ie,class:A([["ctn-input",{focused:g(le),"mt-0.5":g(U),"rounded-md":g(B),"cursor-not-allowed":g(Z),"min-h-9":"large"===g(Q)&&!l.$slots.default,"min-h-8":"medium"===g(Q)&&!l.$slots.default,"min-h-7":"small"===g(Q)&&!l.$slots.default}],"relative flex !shadow-sm app-input-container"])},[C(l.$slots,"addonBefore"),c(ne,{ref_key:"selectDropdown",ref:Oe,filter:g(me),"onUpdate:filter":t[1]||(t[1]=e=>y(me)?me.value=e:null),multiple:g(k),items:g(G),class:A(["!block w-full !h-full",{"min-h-9":"large"===g(Q)&&!l.$slots.default,"min-h-8":"medium"===g(Q)&&!l.$slots.default,"min-h-7":"small"===g(Q)&&!l.$slots.default}]),selected:g(v),hideSelected:e.hideSelected,"text-key":g(z),"id-key":g(w),disabled:g(Z),loading:e.loadingData,"show-filter":e.showFilter,trigger:e.trigger,getPopupContainer:e.getPopupContainer,onClickedItem:g(Se)},{default:m((()=>{var a;return[l.$slots.default?(d(),u("div",{key:1,class:A(["",{"opacity-60 pointer-events-none !cursor-not-allowed":g(Z)}])},[C(l.$slots,"default")],2)):(d(),u("div",{key:0,"w:focus-within":"ring-1 !bg-transparent",class:A(["ring-1 flex items-center border-1 border rounded-md relative w-full",{...g(oe),"py-1":g(k),"cursor-not-allowed":g(Z),"hover:bg-light-500 dark:hover:bg-slate-700":!g(Z),"bg-slate-200 hover:bg-slate-200 bg-opacity-70":e.isGray,"bg-surface":!e.isGray,"rounded-l-none":l.$slots.addonBefore,"rounded-r-none":l.$slots.addonAfter,"min-h-9":"large"===g(Q)&&!l.$slots.default,"min-h-8":"medium"===g(Q)&&!l.$slots.default,"min-h-7":"small"===g(Q)&&!l.$slots.default}]),onClick:Ke},[g(k)?(d(),_(fe,{key:1,tags:g(Pe),"text-key":g(z),"id-key":g(w),maxTagCount:e.maxTagCount,maxTagTextLength:e.maxTagTextLength,onRemoveTag:g(Ve)},null,8,["tags","text-key","id-key","maxTagCount","maxTagTextLength","onRemoveTag"])):(d(),u("input",T({key:0,ref_key:"inputRef",ref:ee,autocomplete:"off",readonly:"",role:"combobox"},l.$attrs,{value:g(pe),disabled:g(Z),placeholder:g(W),class:["outline-none w-full text-sm bg-transparent rounded-md w-full text-sm text-black-600 placeholder-gray-500 border-none",{"pl-3":!l.$slots.iconPrefix&&!l.$slots.prefix,"cursor-not-allowed":g(Z),"py-2":"large"===g(Q),"pl-2 py-1 ":"medium"===g(Q),"pl-2 py-0":"small"===g(Q)}],onInput:t[0]||(t[0]=(...e)=>g(te)&&g(te)(...e))}),null,16,ke)),l.allowClear&&!g(J)&&!g(k)&&g(v)||g(k)&&(null==(a=g(v))?void 0:a.length)?f((d(),_(D,{key:2,class:"pl-1 pr-2",onClick:x(Ie,["prevent","stop"])},null,512)),[[F,g(v)]]):h("",!0),g(ue)?(d(),u("div",we,[c(g(b),{loading:!0,size:"18",inherit:!0,class:"text-gray-400"})])):(d(),u("div",Ce,Te)),l.$slots.suffix?(d(),u("div",_e,[C(l.$slots,"suffix")])):h("",!0)],2))]})),_:3},8,["filter","multiple","items","class","selected","hideSelected","text-key","id-key","disabled","loading","show-filter","trigger","getPopupContainer","onClickedItem"]),C(l.$slots,"addonAfter")],2),e.simple||l.$slots.default?h("",!0):(d(),_(N,{key:0,state:g(se),hint:g(re)},null,8,["state","hint"]))])}}});export{Se as _,U as d};
