System.register(["./users.model-legacy-D-2__hwd.js","./ConfirmModal.vue_vue_type_script_setup_true_lang-legacy-Ca7huDOP.js","./index-legacy-BnT4rcVz.js","./UsersForm.vue_vue_type_script_setup_true_lang-legacy-B4RlnTlN.js","./UsersFormPasswordChange.vue_vue_type_script_setup_true_lang-legacy-B6KvmPSR.js","./breadcrump-legacy-8A_LxCUH.js","./index-legacy-nxao03Rl.js","./index-legacy-g1BirUfU.js","./index-legacy-0gGhEXTD.js","./dropdown-legacy-Ef-aP5fV.js","./RestBase-legacy-CyaXmJsG.js","./createContext-legacy-DI7CWFS2.js","./FormItemContext-legacy-DIDu-b8g.js","./index-legacy-DjC9o_w0.js","./index-legacy-C5nl4eCF.js","./debounceValidator-legacy-CNcUd-ub.js","./colors-legacy-C517ykp9.js","./supportsPassive-legacy-BJhmO5TL.js","./index-legacy-xM8aKfZE.js","./useMergedState-legacy-BhzTkMxu.js","./KeyCode-legacy-CtBVgl47.js","./styleChecker-legacy-gslcVGVx.js","./index-legacy-BcQgjaEy.js","./index-legacy-SE6QLez0.js","./debounce-legacy-CtZfg3gG.js","./collapseMotion-legacy-CAh_37Xw.js","./LeftOutlined-legacy-BzIaNX0f.js","./isMobile-legacy-BmmuYEUC.js","./useMemo-legacy-CRGZnKna.js","./DownOutlined-legacy-CCWm4Yig.js","./index-legacy-CltEfhW5.js","./index-legacy-D92hfgD0.js","./RForm.vue_vue_type_script_setup_true_lang-legacy-CQJ14iDy.js","./index-legacy-CLTyZtoE.js","./RButton.vue_vue_type_style_index_0_lang-legacy-CorltFxv.js","./RSelect.vue_vue_type_script_setup_true_lang-legacy-BlCL2tu-.js","./ClearButton-legacy-BkfdqdUX.js","./useValidation-legacy-BdDQzCcT.js","./usePopupContainer-legacy-B27Yz2o4.js","./REditor.vue_vue_type_style_index_0_lang-legacy-BY4lRfIP.js","./roles.model-legacy-XTu4G13K.js","./index-legacy-BrGCmP0F.js","./EyeOutlined-legacy-42FX1Vmw.js","./shallowequal-legacy-bnCOzlms.js"],(function(e,l){"use strict";var n,t,o,a,u,s,i,r,c,d,f,m,v,g,y,_,p,x,h,j,w,C,b,k,E,R,U,A,M,S,V,D,B,P,q,F,L;return{setters:[function(e){n=e.U},function(e){t=e._,o=e.a,a=e.b,u=e.c},function(e){s=e.d,i=e.r,r=e.D,c=e.a,d=e.Q,f=e.k,m=e.S,v=e.n,g=e.z,y=e.c,_=e.v,p=e.x,x=e.y,h=e.E,j=e.G,w=e.T,C=e.L,b=e.R,k=e.q,E=e.A,R=e.U,U=e.V,A=e.W},function(e){M=e._},function(e){S=e._},function(e){V=e.B},function(e){D=e.M},function(e){B=e.I},function(e){P=e._,q=e.M},function(e){F=e._,L=e.a},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var l=p("div",{class:"r-close-icon hoverable-close"},null,-1),O={class:"flex"},I={key:0},K={key:1},z=p("div",{class:"r-loading-default"},null,-1),G=p("div",{class:"r-close-icon hoverable-close"},null,-1),T={class:"flex"},X=p("h1",null,"Cambiar Contraseña",-1),N=p("div",{class:"r-loading-default"},null,-1),Q={class:"r-breadcumbs"},W=p("div",null,[p("h1",{class:"mt-5"},"Usuarios")],-1),Y={class:"r-container-list"},Z={class:"relative card w-full float-right"},$={class:""},H={class:"components-input-demo-presuffix mt-3 flex"},J=p("span",{class:"i-heroicons:trash-16-solid text-md mr-1 mb-1"},null,-1),ee=p("span",{class:"i-heroicons:plus-16-solid text-lg mr-1 mb-1"},null,-1),le={class:"w-50% mr-20"},ne={class:"float-right align-middle"},te={class:"justify-start w-20%"},oe=p("div",{class:"i-mdi:search w-1em h-1em text-2xl"},null,-1),ae={class:"flex justify-end w-20%"},ue=p("div",{class:"flex"},[p("div",{class:"i-mdi:export-variant w-1em h-1em text-xl mr-1"}),C(" Exportar ")],-1),se=p("span",{class:"flex"},[p("div",{class:"i-mdi:file-csv-outline w-1em h-1em text-gray-900 mr-2 text-xl"}),C(" CSV ")],-1),ie=p("span",{class:"flex"},[p("div",{class:"i-mdi:microsoft-excel w-1em h-1em text-green-700 mr-2 text-xl"}),C(" EXCEL ")],-1),re=p("span",{class:"flex"},[p("div",{class:"i-mdi:file-pdf-box w-1em h-1em text-red-500 mr-2 text-xl"}),C(" PDF ")],-1),ce={class:"flex justify-center align-center"},de={class:"text-xl flex justify-center align-center"},fe=["onClick"],me=p("div",{class:"i-heroicons:trash w-1em h-1em text-red-600 cursor-pointer mt-1"},null,-1),ve=p("div",{class:"i-heroicons:trash w-1em h-1em text-red-600 cursor-pointer"},null,-1),ge=["onClick"];e("default",s({__name:"UsersList",setup:function(e){var s=i(),ye=i([]),_e=i(null),pe=i(null);i(null);var xe=i(!1),he=n.visible_columns,je=r(),we=c((function(){return ye.value.filter((function(e){return d(e,s.value,he)}))})),Ce=n.useGetMany({relations:"all"}),be=Ce.loading,ke=(Ce.result,Ce.onError),Ee=Ce.onResult,Re=Ce.refetch,Ue=f([{title:"Seguridad",disabled:!1,href:"/guarantee"},{title:"Usuarios",disabled:!0}]),Ae=f([]),Me=n.useDeleteById(Ae,{defaultEnabled:!1}),Se=(Me.onError,Me.onResult),Ve=Me.toggleEnabled,De=Me.loading,Be=Me.enabled;Ee((function(e){ye.value=e.data.data})),ke((function(e){m("error","Error de peticion","Error de peticion del elemento")}));var Pe=i(!1),qe=i(!1),Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Pe.value=!Pe.value,e&&(D.destroyAll(),Re())},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];qe.value=!qe.value,e&&(D.destroyAll(),Re())},Oe=function(){pe.value=null,Fe()},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];pe.value=null,Fe(e)},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];pe.value=null,Le(e)};Se((function(){var e;Re(),null==_e||null===(e=_e.value)||void 0===e||e.clearSelection(),m("success","Acción Exitosa","Se han eliminado los elementos correctamente"),Be.value=!1,D.destroyAll()}));var ze=function(){D.confirm({title:y(a,{text:"¿Desea eliminar el/los elementos seleccionados?",iconClass:"i-heroicons:trash w-1em h-1em text-4xl color-red-500",textClass:"ml-5 text-xl",loading:De,onOk:function(){var e;Object.assign(Ae,null==_e||null===(e=_e.value)||void 0===e?void 0:e.selectedRowKeys),Ve()}}),icon:null,footer:null})},Ge=function(){U("UsersList",he,we.value)},Te=function(){A("UsersList",he,we.value)};return function(e,a){var i,r,c,d=D,f=B,U=P,A=q,ye=F,Ce=L,ke=u;return v(),g(R,null,[y(d,{open:h(Pe),"onUpdate:open":a[1]||(a[1]=function(e){return w(Pe)?Pe.value=e:null}),footer:null,"destroy-on-close":!0,onCancel:a[2]||(a[2]=function(e){return pe.value=null}),"wrap-class-name":"modal-form",width:"55%"},{closeIcon:_((function(){return[l]})),title:_((function(){return[p("div",O,[p("div",{class:x([h(pe)?"i-heroicons:pencil-square":"i-heroicons:plus-20-solid","w-1em h-1em p-3.5 mr-2"])},null,2),h(xe)?(v(),g("h1",I,"Cambiar Password")):(v(),g("h1",K,j(h(pe)?"Actualizar Usuarios":"Crear Usuarios"),1))])]})),default:_((function(){return[y(M,{modal:!0,modelValue:h(pe),"onUpdate:modelValue":a[0]||(a[0]=function(e){return w(pe)?pe.value=e:null}),action:h(pe)?"update":"create",onCloseModal:Ie,onReload:h(Re),"show-loading":!0,passwordChange:h(xe)},{loading_icon:_((function(){return[z]})),_:1},8,["modelValue","action","onReload","passwordChange"])]})),_:1},8,["open"]),y(d,{open:h(qe),"onUpdate:open":a[4]||(a[4]=function(e){return w(qe)?qe.value=e:null}),footer:null,"destroy-on-close":!0,onCancel:a[5]||(a[5]=function(e){return pe.value=null}),"wrap-class-name":"modal-form",width:"55%"},{closeIcon:_((function(){return[G]})),title:_((function(){return[p("div",T,[p("div",{class:x([h(pe)?"i-heroicons:pencil-square":"i-heroicons:plus-20-solid","w-1em h-1em p-3.5 mr-2"])},null,2),X])]})),default:_((function(){return[y(S,{modal:!0,modelValue:h(pe),"onUpdate:modelValue":a[3]||(a[3]=function(e){return w(pe)?pe.value=e:null}),action:"password_change",onCloseModal:Ke,onReload:h(Re),"show-loading":!0},{loading_icon:_((function(){return[N]})),_:1},8,["modelValue","onReload"])]})),_:1},8,["open"]),p("div",Q,[y(V,{breadcrumb:h(Ue)},null,8,["breadcrumb"]),W]),p("div",Y,[p("div",Z,[p("div",$,[p("div",H,[y(h(b),{shadow:"",ref:"btnDelete",class:"btn-delete",disabled:0===(null===(i=h(_e))||void 0===i?void 0:i.selectedRowKeys.length)||h(je).user.sub==(null===(r=h(_e))||void 0===r?void 0:r.selectedRowKeys[0]),onClick:ze},{default:_((function(){return[J,C(" Eliminar ")]})),_:1},8,["disabled"]),y(h(b),{class:"mr-3",shadow:"",onClick:Oe},{default:_((function(){return[ee,C(" Crear Usuarios ")]})),_:1}),p("div",le,[p("span",ne,"Elementos seleccionados "+j(null===(c=h(_e))||void 0===c?void 0:c.selectedRowKeys.length)+"/"+j(h(we).length),1)]),p("div",te,[y(f,{value:h(s),"onUpdate:value":a[6]||(a[6]=function(e){return w(s)?s.value=e:null}),class:"col-1",placeholder:"Buscar elemento","allow-clear":!0},{prefix:_((function(){return[oe]})),_:1},8,["value"])]),p("div",ae,[y(ye,{class:"flex"},{overlay:_((function(){return[y(A,null,{default:_((function(){return[y(U,{key:"1",onClick:Ge},{default:_((function(){return[se]})),_:1}),y(U,{key:"2",onClick:Te},{default:_((function(){return[ie]})),_:1}),y(U,{key:"3"},{default:_((function(){return[re]})),_:1})]})),_:1})]})),default:_((function(){return[ue]})),_:1})])])]),y(o,{ref_key:"usersTbl",ref:_e,columns:h(he),data:h(we),loading_icon:h(be),has_selection:!0,on_select:function(e){},onChangePagination:a[7]||(a[7]=function(e){h(Re)()}),id_element:"id",class:"mt-5"},{loading_icon:_((function(){return[y(t)]})),_action:_((function(e){e._;var l=e.record;return[p("div",ce,[p("div",de,[y(Ce,null,{title:_((function(){return[C("Actualizar elemento")]})),default:_((function(){return[p("div",{class:"i-heroicons:pencil-square w-1em h-1em text-blue-600 cursor-pointer",onClick:function(e){return function(e){pe.value=e,Fe()}(l)}},null,8,fe)]})),_:2},1024),y(ke,{title:"Desea eliminar este elemento?","ok-text":"Si","cancel-text":"No",onConfirm:function(e){return function(e){be.value=!0;var l=n.useDelete(e.id),t=l.onResult,o=l.onError;t((function(){m("success","Acción Exitosa","Se ha eliminado el elemento correctamente"),be.value=!1,Re()})),o((function(){m("error","Acción Fallida","Ocurrió un error en la eliminación del elemento, puede estar asociado a otros elementos"),be.value=!1}))}(l)}},{icon:_((function(){return[me]})),default:_((function(){return[l.id!=h(je).user.sub?(v(),k(Ce,{key:0},{title:_((function(){return[C("Eliminar elemento")]})),default:_((function(){return[ve]})),_:1})):E("",!0)]})),_:2},1032,["onConfirm"]),y(Ce,null,{title:_((function(){return[C("Cambiar contraseña")]})),default:_((function(){return[p("div",{class:"i-heroicons:key w-1em h-1em text-green-600 cursor-pointer",onClick:function(e){return function(e){pe.value=e,Le()}(l)}},null,8,ge)]})),_:2},1024)])])]})),_:1},8,["columns","data","loading_icon"])])])],64)}}}))}}}));
