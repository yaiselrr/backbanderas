import{u as e}from"./index-BtQlog3F.js";import{d as a,h as t,r as l,p as s,N as r,n as o,z as i,x as n,O as u,E as c,af as v,ag as d,ad as f}from"./index-D0wN_fuZ.js";const p=a({__name:"RForm",props:{feedbacks:t.object,state:t.object.isRequired,autoDirty:t.bool.def(!1),validations:t.object.isRequired,specific:t.arrayOf(String).def([])},setup(a,{expose:t}){const p=a,y=l(!1),$=l(!1);s("validateKey",y),s("clearKey",$),s("feedbacks",p.feedbacks);const{state:b}=r(p),g=e(p.validations,b,{$lazy:!0,$autoDirty:p.autoDirty});s("vue_object",g);return t({clear:async()=>{var e,a;null==(a=(e=g.value).$reset)||a.call(e),$.value=!0,f((()=>$.value=!1))},validate:async(e=[],a=!1)=>{var t,l,s,r,o,i;if(delete g.value.password,null==(l=(t=g.value).$touch)||l.call(t),y.value=!0,f((()=>y.value=!1)),e.length||(null==(s=p.specific)?void 0:s.length)){let t=!1,l=!0,s=e.length>0?e:p.specific;const o=g.value.$errors;for(let e=0;e<o.length&&l;e++){const i=o[e].$propertyPath;for(let e=0;e<s.length;e++){const a=s[e];("string"==typeof a&&a===i||(null==(r=a.test)?void 0:r.call(a,i)))&&(t=!0)}(!a&&t||a&&!t)&&(l=!1)}return l}return await(null==(i=(o=g.value).$validate)?void 0:i.call(o))},resetValidations:function(){var e,a;null==(a=(e=g.value).$reset)||a.call(e)},vobject:g}),(e,a)=>(o(),i("form",null,[n("div",v(d(e.$attrs)),[u(e.$slots,"default",{$v:c(g)})],16)]))}});export{p as _};
