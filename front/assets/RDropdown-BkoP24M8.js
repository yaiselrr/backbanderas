import t from"./RDropdownItem-D4W2jB5B.js";import"./index-D-OtIBMI.js";import{g as e,m as a,_ as n,a5 as o,aN as r,d as i,u as l,a as c,at as s,c as d,f as p,r as g,al as u,c3 as f,am as h,c4 as m,aq as v,ad as x,h as b,N as w,n as y,z as k,v as z,x as S,E as C,U as j,ae as M,q as _,ah as B,L as T,G,O,B as P}from"./index-D0wN_fuZ.js";import{u as E}from"./usePopupContainer-BObfUw_y.js";import{l as W,a as H,b as I}from"./index-brT4NzTB.js";import{d as D}from"./RSelect.vue_vue_type_script_setup_true_lang-C-HhWqQ_.js";import{D as A}from"./dropdown-DdxiuV_U.js";import"./ClearButton-D4yBJSZU.js";import"./useValidation-Dimmn3XB.js";import"./index-CFoXpmaN.js";import"./index-BtQlog3F.js";import"./colors-Bmc914HC.js";import"./createContext-Cl9SgfpP.js";import"./supportsPassive-pertglWR.js";import"./index-C2qDfXmS.js";const L=t=>{const{componentCls:e,sizePaddingEdgeHorizontal:a,colorSplit:r,lineWidth:i}=t;return{[e]:n(n({},o(t)),{borderBlockStart:"".concat(i,"px solid ").concat(r),"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",margin:"0 ".concat(t.dividerVerticalGutterMargin,"px"),verticalAlign:"middle",borderTop:0,borderInlineStart:"".concat(i,"px solid ").concat(r)},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:"".concat(t.dividerHorizontalGutterMargin,"px 0")},["&-horizontal".concat(e,"-with-text")]:{display:"flex",alignItems:"center",margin:"".concat(t.dividerHorizontalWithTextGutterMargin,"px 0"),color:t.colorTextHeading,fontWeight:500,fontSize:t.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:"0 ".concat(r),"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:"".concat(i,"px solid transparent"),borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},["&-horizontal".concat(e,"-with-text-left")]:{"&::before":{width:"5%"},"&::after":{width:"95%"}},["&-horizontal".concat(e,"-with-text-right")]:{"&::before":{width:"95%"},"&::after":{width:"5%"}},["".concat(e,"-inner-text")]:{display:"inline-block",padding:"0 1em"},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:"".concat(i,"px 0 0")},["&-horizontal".concat(e,"-with-text").concat(e,"-dashed")]:{"&::before, &::after":{borderStyle:"dashed none none"}},["&-vertical".concat(e,"-dashed")]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},["&-plain".concat(e,"-with-text")]:{color:t.colorText,fontWeight:"normal",fontSize:t.fontSize},["&-horizontal".concat(e,"-with-text-left").concat(e,"-no-default-orientation-margin-left")]:{"&::before":{width:0},"&::after":{width:"100%"},["".concat(e,"-inner-text")]:{paddingInlineStart:a}},["&-horizontal".concat(e,"-with-text-right").concat(e,"-no-default-orientation-margin-right")]:{"&::before":{width:"100%"},"&::after":{width:0},["".concat(e,"-inner-text")]:{paddingInlineEnd:a}}})}},R=e("Divider",(t=>{const e=a(t,{dividerVerticalGutterMargin:t.marginXS,dividerHorizontalWithTextGutterMargin:t.margin,dividerHorizontalGutterMargin:t.marginLG});return[L(e)]}),{sizePaddingEdgeHorizontal:0}),$=r(i({name:"ADivider",inheritAttrs:!1,compatConfig:{MODE:3},props:{prefixCls:String,type:{type:String,default:"horizontal"},dashed:{type:Boolean,default:!1},orientation:{type:String,default:"center"},plain:{type:Boolean,default:!1},orientationMargin:[String,Number]},setup(t,e){let{slots:a,attrs:o}=e;const{prefixCls:r,direction:i}=l("divider",t),[g,u]=R(r),f=c((()=>"left"===t.orientation&&null!=t.orientationMargin)),h=c((()=>"right"===t.orientation&&null!=t.orientationMargin)),m=c((()=>{const{type:e,dashed:a,plain:n}=t,o=r.value;return{[o]:!0,[u.value]:!!u.value,["".concat(o,"-").concat(e)]:!0,["".concat(o,"-dashed")]:!!a,["".concat(o,"-plain")]:!!n,["".concat(o,"-rtl")]:"rtl"===i.value,["".concat(o,"-no-default-orientation-margin-left")]:f.value,["".concat(o,"-no-default-orientation-margin-right")]:h.value}})),v=c((()=>{const e="number"==typeof t.orientationMargin?"".concat(t.orientationMargin,"px"):t.orientationMargin;return n(n({},f.value&&{marginLeft:e}),h.value&&{marginRight:e})})),x=c((()=>t.orientation.length>0?"-"+t.orientation:t.orientation));return()=>{var t;const e=s(null===(t=a.default)||void 0===t?void 0:t.call(a));return g(d("div",p(p({},o),{},{class:[m.value,e.length?"".concat(r.value,"-with-text ").concat(r.value,"-with-text").concat(x.value):"",o.class],role:"separator"}),[e.length?d("span",{class:"".concat(r.value,"-inner-text"),style:v.value},[e]):null]))}}}));const N={class:"bg-white dark:border-white app-dropdown rounded-lg py-1.5 shadow-md min-w-50"},V=i({__name:"RDropdown",props:{items:b.arrayOf(b.shape({icon:b.any,text:b.string,cb:b.func,separator:b.bool})),trigger:b.oneOf(["hover","click","contextmenu"]).def("click"),getPopupContainer:b.func,placement:b.oneOf(D).def("bottom")},emits:["selected"],setup(e,{emit:a}){const n=e,o=a;const{items:r,trigger:i,getPopupContainer:l}=w(n),{container:s,triggerMode:p,getPopupContainerFn:b}=E(i,l),{toggleOpen:D,target:L,triggerTarget:R,visible:V}=function({loading:t,trigger:e}){const a=g(null),n=g(null),o=g(!1),[r,i]=u(!1),l=c((()=>"hover"==(null==e?void 0:e.value))),{isOutside:s}=f(n),{isOutside:d}=f(a),[p,b]=u(!1);return h(W(d),(()=>b(!1))),h(H(I(W(s),H(W(d),p)),l),(()=>i(!0))),h(H(s,d,l),(()=>{setTimeout((()=>{s.value&&d.value&&i(!1)}),100)})),m(a,(async e=>{l.value||(await v(50),!r.value||o.value||(null==t?void 0:t.value)||x((()=>i(!1))))})),{toggleOpen:function(){o.value=!0,i(),setTimeout((()=>{o.value=!1}),100)},target:a,visible:r,toggle:i,triggerTarget:n}}({trigger:i});return(a,n)=>(y(),k("div",{ref_key:"container",ref:s,class:"flex z-10 relative"},[d(C(A),P({open:C(V),getPopupContainer:C(b)},a.$attrs,{placement:e.placement,trigger:C(p)}),{overlay:z((()=>[S("div",{ref_key:"target",ref:L},[S("div",N,[C(r)?(y(!0),k(j,{key:0},M(C(r),((e,a)=>(y(),k(j,{key:a},[e.separator?(y(),_(C($),{key:0,class:"!mb-1 !mt-1.5"})):(y(),_(t,{key:1,onClick:t=>function(t){o("selected",t),t.cb()}(e)},{icon:z((()=>[(y(),_(B(e.icon),{class:"group-hover:text-white text-primary-600 dark:text-primary-500"}))])),default:z((()=>[T(" "+G(e.text),1)])),_:2},1032,["onClick"]))],64)))),128)):O(a.$slots,"content",{key:1})])],512)])),default:z((()=>[S("div",{ref_key:"triggerTarget",ref:R,class:"dropdown-slot-container",onClickCapture:n[0]||(n[0]=(...t)=>C(D)&&C(D)(...t))},[O(a.$slots,"default")],544)])),_:3},16,["open","getPopupContainer","placement","trigger"])],512))}});export{V as default};
