System.register(["./categories.model-legacy-C813FM16.js","./ConfirmModal.vue_vue_type_script_setup_true_lang-legacy-Ca7huDOP.js","./index-legacy-BnT4rcVz.js","./CategoriesForm.vue_vue_type_script_setup_true_lang-legacy-hov2Ownt.js","./breadcrump-legacy-8A_LxCUH.js","./RAvatar.vue_vue_type_script_setup_true_lang-legacy-BfR_peLg.js","./index-legacy-nxao03Rl.js","./index-legacy-g1BirUfU.js","./index-legacy-0gGhEXTD.js","./dropdown-legacy-Ef-aP5fV.js","./RestBase-legacy-CyaXmJsG.js","./createContext-legacy-DI7CWFS2.js","./FormItemContext-legacy-DIDu-b8g.js","./index-legacy-DjC9o_w0.js","./index-legacy-C5nl4eCF.js","./debounceValidator-legacy-CNcUd-ub.js","./colors-legacy-C517ykp9.js","./supportsPassive-legacy-BJhmO5TL.js","./index-legacy-xM8aKfZE.js","./useMergedState-legacy-BhzTkMxu.js","./KeyCode-legacy-CtBVgl47.js","./styleChecker-legacy-gslcVGVx.js","./index-legacy-BcQgjaEy.js","./index-legacy-SE6QLez0.js","./debounce-legacy-CtZfg3gG.js","./collapseMotion-legacy-CAh_37Xw.js","./LeftOutlined-legacy-BzIaNX0f.js","./isMobile-legacy-BmmuYEUC.js","./useMemo-legacy-CRGZnKna.js","./DownOutlined-legacy-CCWm4Yig.js","./index-legacy-CltEfhW5.js","./index-legacy-D92hfgD0.js","./RForm.vue_vue_type_script_setup_true_lang-legacy-CQJ14iDy.js","./index-legacy-CLTyZtoE.js","./RButton.vue_vue_type_style_index_0_lang-legacy-CorltFxv.js","./RSelect.vue_vue_type_script_setup_true_lang-legacy-BlCL2tu-.js","./ClearButton-legacy-BkfdqdUX.js","./useValidation-legacy-BdDQzCcT.js","./usePopupContainer-legacy-B27Yz2o4.js","./REditor.vue_vue_type_style_index_0_lang-legacy-BY4lRfIP.js","./index-legacy-DEb0wcU4.js","./useRefs-legacy-zGgp-h89.js","./EyeOutlined-legacy-42FX1Vmw.js","./index-legacy-BrGCmP0F.js","./types-legacy-BZ7Q6SXv.js","./shallowequal-legacy-bnCOzlms.js"],(function(e,l){"use strict";var n,t,a,i,o,u,s,r,c,d,f,g,m,v,y,_,x,p,j,h,C,b,w,R,E,k,M,S,A,L,B,D,V,O;return{setters:[function(e){n=e.C},function(e){t=e._,a=e.a,i=e.b,o=e.c},function(e){u=e.d,s=e.r,r=e.a,c=e.Q,d=e.k,f=e.S,g=e.n,m=e.z,v=e.c,y=e.v,_=e.x,x=e.y,p=e.E,j=e.G,h=e.T,C=e.L,b=e.R,w=e.U,R=e.V,E=e.W},function(e){k=e._},function(e){M=e.B},function(e){S=e._},function(e){A=e.M},function(e){L=e.I},function(e){B=e._,D=e.M},function(e){V=e._,O=e.a},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var l=_("div",{class:"r-close-icon hoverable-close"},null,-1),z={class:"flex"},F=_("div",{class:"r-loading-default"},null,-1),K={class:"r-breadcumbs"},P=_("div",null,[_("h1",{class:"mt-5"},"Categorias")],-1),q={class:"r-container-list"},I={class:"relative card w-full float-right"},T={class:""},U={class:"components-input-demo-presuffix mt-3 flex"},G=_("span",{class:"i-heroicons:trash-16-solid text-md mr-1 mb-1"},null,-1),H=_("span",{class:"i-heroicons:plus-16-solid text-lg mr-1 mb-1"},null,-1),N={class:"w-50% mr-20"},Q={class:"float-right align-middle"},X={class:"justify-start w-20%"},Y=_("div",{class:"i-mdi:search w-1em h-1em text-2xl"},null,-1),Z={class:"flex justify-end w-20%"},W=_("div",{class:"flex"},[_("div",{class:"i-mdi:export-variant w-1em h-1em text-xl mr-1"}),C(" Exportar ")],-1),$=_("span",{class:"flex"},[_("div",{class:"i-mdi:file-csv-outline w-1em h-1em text-gray-900 mr-2 text-xl"}),C(" CSV ")],-1),J=_("span",{class:"flex"},[_("div",{class:"i-mdi:microsoft-excel w-1em h-1em text-green-700 mr-2 text-xl"}),C(" EXCEL ")],-1),ee=_("span",{class:"flex"},[_("div",{class:"i-mdi:file-pdf-box w-1em h-1em text-red-500 mr-2 text-xl"}),C(" PDF ")],-1),le=["innerHTML"],ne={class:"flex justify-center align-center"},te={class:"text-xl flex justify-center align-center"},ae=["onClick"],ie=_("div",{class:"i-heroicons:trash w-1em h-1em text-red-600 cursor-pointer mt-1"},null,-1),oe=_("div",{class:"i-heroicons:trash w-1em h-1em text-red-600 cursor-pointer"},null,-1);e("default",u({__name:"CategoriesList",setup:function(e){var u=s(),ue=s([]),se=s(null),re=s(null),ce=n.visible_columns,de=r((function(){return ue.value.filter((function(e){return c(e,u.value,ce)}))})),fe=n.useGetMany({relations:"all"}),ge=fe.loading,me=(fe.result,fe.onError),ve=fe.onResult,ye=fe.refetch,_e=d([]),xe=n.useDeleteById(_e,{defaultEnabled:!1}),pe=(xe.onError,xe.onResult),je=xe.toggleEnabled,he=xe.loading,Ce=xe.enabled;ve((function(e){ue.value=e.data.data})),me((function(e){f("error","Error de peticion","Error de peticion del elemento")}));var be=d([{title:"Nomencladores",disabled:!1,href:"/guarantee"},{title:"Categorias",disabled:!0}]),we=s(!1),Re=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];we.value=!we.value,e&&(A.destroyAll(),ye())},Ee=function(){re.value=null,Re()},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];re.value=null,Re(e)};pe((function(){var e;ye(),null==se||null===(e=se.value)||void 0===e||e.clearSelection(),f("success","Acción Exitosa","Se han eliminado los elementos correctamente"),Ce.value=!1,A.destroyAll()}));var Me=function(){A.confirm({title:v(i,{text:"¿Desea eliminar el/los elementos seleccionados?",iconClass:"i-heroicons:trash w-1em h-1em text-4xl color-red-500",textClass:"ml-5 text-xl",loading:he,onOk:function(){var e;Object.assign(_e,null==se||null===(e=se.value)||void 0===e?void 0:e.selectedRowKeys),je()}}),icon:null,footer:null})},Se=function(){R("CategoriesList",ce,de.value)},Ae=function(){E("CategoriesList",ce,de.value)};return function(e,i){var s,r,c=A,d=L,R=B,E=D,ue=V,fe=O,me=o;return g(),m(w,null,[v(c,{open:p(we),"onUpdate:open":i[1]||(i[1]=function(e){return h(we)?we.value=e:null}),footer:null,"destroy-on-close":!0,onCancel:i[2]||(i[2]=function(e){return re.value=null}),"wrap-class-name":"modal-form",width:"55%"},{closeIcon:y((function(){return[l]})),title:y((function(){return[_("div",z,[_("div",{class:x([p(re)?"i-heroicons:pencil-square":"i-heroicons:plus-20-solid","w-1em h-1em p-3.5 mr-2"])},null,2),_("h1",null,j(p(re)?"Actualizar Categorias":"Crear Categorias"),1)])]})),default:y((function(){return[v(k,{modal:!0,modelValue:p(re),"onUpdate:modelValue":i[0]||(i[0]=function(e){return h(re)?re.value=e:null}),action:p(re)?"update":"create",onCloseModal:ke,onReload:p(ye),"show-loading":!0},{loading_icon:y((function(){return[F]})),_:1},8,["modelValue","action","onReload"])]})),_:1},8,["open"]),_("div",K,[v(M,{breadcrumb:p(be)},null,8,["breadcrumb"]),P]),_("div",q,[_("div",I,[_("div",T,[_("div",U,[v(p(b),{shadow:"",ref:"btnDelete",class:"btn-delete",disabled:0===(null===(s=p(se))||void 0===s?void 0:s.selectedRowKeys.length),onClick:Me},{default:y((function(){return[G,C(" Eliminar ")]})),_:1},8,["disabled"]),v(p(b),{class:"mr-3",shadow:"",onClick:Ee},{default:y((function(){return[H,C(" Crear Categorias ")]})),_:1}),_("div",N,[_("span",Q,"Elementos seleccionados "+j(null===(r=p(se))||void 0===r?void 0:r.selectedRowKeys.length)+"/"+j(p(de).length),1)]),_("div",X,[v(d,{value:p(u),"onUpdate:value":i[3]||(i[3]=function(e){return h(u)?u.value=e:null}),class:"col-1",placeholder:"Buscar elemento","allow-clear":!0},{prefix:y((function(){return[Y]})),_:1},8,["value"])]),_("div",Z,[v(ue,{class:"flex"},{overlay:y((function(){return[v(E,null,{default:y((function(){return[v(R,{key:"1",onClick:Se},{default:y((function(){return[$]})),_:1}),v(R,{key:"2",onClick:Ae},{default:y((function(){return[J]})),_:1}),v(R,{key:"3"},{default:y((function(){return[ee]})),_:1})]})),_:1})]})),default:y((function(){return[W]})),_:1})])])]),v(a,{ref_key:"categoriesTbl",ref:se,columns:p(ce),data:p(de),expanded:!0,loading_icon:p(ge),has_selection:!0,on_select:function(e){},onChangePagination:i[4]||(i[4]=function(e){p(ye)()}),id_element:"id",class:"mt-5"},{loading_icon:y((function(){return[v(t)]})),category_image:y((function(e){e._;var l=e.record;return[v(S,{img:l.category_image,size:33,circle:!0},null,8,["img"])]})),expandedRowRender:y((function(e){var l=e.record;return[_("div",{class:"ml-30",innerHTML:l.description},null,8,le)]})),_action:y((function(e){e._;var l=e.record;return[_("div",ne,[_("div",te,[v(fe,null,{title:y((function(){return[C("Actualizar elemento")]})),default:y((function(){return[_("div",{class:"i-heroicons:pencil-square w-1em h-1em text-blue-600 cursor-pointer",onClick:function(e){return function(e){re.value=e,Re()}(l)}},null,8,ae)]})),_:2},1024),v(me,{title:"Desea eliminar este elemento?","ok-text":"Si","cancel-text":"No",onConfirm:function(e){return function(e){ge.value=!0;var l=n.useDelete(e.id),t=l.onResult,a=l.onError;t((function(){f("success","Acción Exitosa","Se ha eliminado el elemento correctamente"),ge.value=!1,ye()})),a((function(){f("error","Acción Fallida","Ocurrió un error en la eliminación del elemento, puede estar asociado a otros elementos"),ge.value=!1}))}(l)}},{icon:y((function(){return[ie]})),default:y((function(){return[v(fe,null,{title:y((function(){return[C("Eliminar elemento")]})),default:y((function(){return[oe]})),_:1})]})),_:2},1032,["onConfirm"])])])]})),_:1},8,["columns","data","loading_icon"])])])],64)}}}))}}}));
