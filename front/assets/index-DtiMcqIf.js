import{d as t,k as e,o as s,a_ as o,ar as i,w as n,aX as f,_ as a,av as h}from"./index-D0wN_fuZ.js";import{g as r}from"./createContext-Cl9SgfpP.js";const d=t({compatConfig:{MODE:3},name:"ResizeObserver",props:{disabled:Boolean,onResize:Function},emits:["resize"],setup(t,d){let{slots:l}=d;const c=e({width:0,height:0,offsetHeight:0,offsetWidth:0});let g=null,u=null;const m=()=>{u&&(u.disconnect(),u=null)},p=e=>{const{onResize:s}=t,o=e[0].target,{width:i,height:n}=o.getBoundingClientRect(),{offsetWidth:f,offsetHeight:h}=o,r=Math.floor(i),d=Math.floor(n);if(c.width!==r||c.height!==d||c.offsetWidth!==f||c.offsetHeight!==h){const t={width:r,height:d,offsetWidth:f,offsetHeight:h};a(c,t),s&&Promise.resolve().then((()=>{s(a(a({},t),{offsetWidth:f,offsetHeight:h}),o)}))}},v=h(),w=()=>{const{disabled:e}=t;if(e)return void m();const s=f(v);s!==g&&(m(),g=s),!u&&s&&(u=new r(p),u.observe(s))};return s((()=>{w()})),o((()=>{w()})),i((()=>{m()})),n((()=>t.disabled),(()=>{w()}),{flush:"post"}),()=>{var t;return null===(t=l.default)||void 0===t?void 0:t.call(l)[0]}}});export{d as R};
