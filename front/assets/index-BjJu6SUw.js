import{g as n,m as i,aE as c,_ as e,a5 as t,aQ as a,aN as o,t as d,d as r,aZ as l,a as s,bG as h,r as u,w as g,u as w,o as p,ad as S,c as M,f as I,aY as m,aC as k,P as v}from"./index-D0wN_fuZ.js";import{K as x}from"./KeyCode-BFt-2P2l.js";import{W as b}from"./index-C2qDfXmS.js";import{u as C}from"./FormItemContext-CfbnWjAK.js";import{o as f}from"./createContext-Cl9SgfpP.js";const P=n=>{const{componentCls:i}=n,c="".concat(i,"-inner");return{[i]:{["&".concat(i,"-small")]:{minWidth:n.switchMinWidthSM,height:n.switchHeightSM,lineHeight:"".concat(n.switchHeightSM,"px"),["".concat(i,"-inner")]:{paddingInlineStart:n.switchInnerMarginMaxSM,paddingInlineEnd:n.switchInnerMarginMinSM,["".concat(c,"-checked")]:{marginInlineStart:"calc(-100% + ".concat(n.switchPinSizeSM+2*n.switchPadding,"px - ").concat(2*n.switchInnerMarginMaxSM,"px)"),marginInlineEnd:"calc(100% - ".concat(n.switchPinSizeSM+2*n.switchPadding,"px + ").concat(2*n.switchInnerMarginMaxSM,"px)")},["".concat(c,"-unchecked")]:{marginTop:-n.switchHeightSM,marginInlineStart:0,marginInlineEnd:0}},["".concat(i,"-handle")]:{width:n.switchPinSizeSM,height:n.switchPinSizeSM},["".concat(i,"-loading-icon")]:{top:(n.switchPinSizeSM-n.switchLoadingIconSize)/2,fontSize:n.switchLoadingIconSize},["&".concat(i,"-checked")]:{["".concat(i,"-inner")]:{paddingInlineStart:n.switchInnerMarginMinSM,paddingInlineEnd:n.switchInnerMarginMaxSM,["".concat(c,"-checked")]:{marginInlineStart:0,marginInlineEnd:0},["".concat(c,"-unchecked")]:{marginInlineStart:"calc(100% - ".concat(n.switchPinSizeSM+2*n.switchPadding,"px + ").concat(2*n.switchInnerMarginMaxSM,"px)"),marginInlineEnd:"calc(-100% + ".concat(n.switchPinSizeSM+2*n.switchPadding,"px - ").concat(2*n.switchInnerMarginMaxSM,"px)")}},["".concat(i,"-handle")]:{insetInlineStart:"calc(100% - ".concat(n.switchPinSizeSM+n.switchPadding,"px)")}},["&:not(".concat(i,"-disabled):active")]:{["&:not(".concat(i,"-checked) ").concat(c)]:{["".concat(c,"-unchecked")]:{marginInlineStart:n.marginXXS/2,marginInlineEnd:-n.marginXXS/2}},["&".concat(i,"-checked ").concat(c)]:{["".concat(c,"-checked")]:{marginInlineStart:-n.marginXXS/2,marginInlineEnd:n.marginXXS/2}}}}}}},y=n=>{const{componentCls:i}=n;return{[i]:{["".concat(i,"-loading-icon").concat(n.iconCls)]:{position:"relative",top:(n.switchPinSize-n.fontSize)/2,color:n.switchLoadingIconColor,verticalAlign:"top"},["&".concat(i,"-checked ").concat(i,"-loading-icon")]:{color:n.switchColor}}}},z=n=>{const{componentCls:i}=n,c="".concat(i,"-handle");return{[i]:{[c]:{position:"absolute",top:n.switchPadding,insetInlineStart:n.switchPadding,width:n.switchPinSize,height:n.switchPinSize,transition:"all ".concat(n.switchDuration," ease-in-out"),"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:n.colorWhite,borderRadius:n.switchPinSize/2,boxShadow:n.switchHandleShadow,transition:"all ".concat(n.switchDuration," ease-in-out"),content:'""'}},["&".concat(i,"-checked ").concat(c)]:{insetInlineStart:"calc(100% - ".concat(n.switchPinSize+n.switchPadding,"px)")},["&:not(".concat(i,"-disabled):active")]:{["".concat(c,"::before")]:{insetInlineEnd:n.switchHandleActiveInset,insetInlineStart:0},["&".concat(i,"-checked ").concat(c,"::before")]:{insetInlineEnd:0,insetInlineStart:n.switchHandleActiveInset}}}}},E=n=>{const{componentCls:i}=n,c="".concat(i,"-inner");return{[i]:{[c]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:n.switchInnerMarginMax,paddingInlineEnd:n.switchInnerMarginMin,transition:"padding-inline-start ".concat(n.switchDuration," ease-in-out, padding-inline-end ").concat(n.switchDuration," ease-in-out"),["".concat(c,"-checked, ").concat(c,"-unchecked")]:{display:"block",color:n.colorTextLightSolid,fontSize:n.fontSizeSM,transition:"margin-inline-start ".concat(n.switchDuration," ease-in-out, margin-inline-end ").concat(n.switchDuration," ease-in-out"),pointerEvents:"none"},["".concat(c,"-checked")]:{marginInlineStart:"calc(-100% + ".concat(n.switchPinSize+2*n.switchPadding,"px - ").concat(2*n.switchInnerMarginMax,"px)"),marginInlineEnd:"calc(100% - ".concat(n.switchPinSize+2*n.switchPadding,"px + ").concat(2*n.switchInnerMarginMax,"px)")},["".concat(c,"-unchecked")]:{marginTop:-n.switchHeight,marginInlineStart:0,marginInlineEnd:0}},["&".concat(i,"-checked ").concat(c)]:{paddingInlineStart:n.switchInnerMarginMin,paddingInlineEnd:n.switchInnerMarginMax,["".concat(c,"-checked")]:{marginInlineStart:0,marginInlineEnd:0},["".concat(c,"-unchecked")]:{marginInlineStart:"calc(100% - ".concat(n.switchPinSize+2*n.switchPadding,"px + ").concat(2*n.switchInnerMarginMax,"px)"),marginInlineEnd:"calc(-100% + ".concat(n.switchPinSize+2*n.switchPadding,"px - ").concat(2*n.switchInnerMarginMax,"px)")}},["&:not(".concat(i,"-disabled):active")]:{["&:not(".concat(i,"-checked) ").concat(c)]:{["".concat(c,"-unchecked")]:{marginInlineStart:2*n.switchPadding,marginInlineEnd:2*-n.switchPadding}},["&".concat(i,"-checked ").concat(c)]:{["".concat(c,"-checked")]:{marginInlineStart:2*-n.switchPadding,marginInlineEnd:2*n.switchPadding}}}}}},H=n=>{const{componentCls:i}=n;return{[i]:e(e(e(e({},t(n)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:n.switchMinWidth,height:n.switchHeight,lineHeight:"".concat(n.switchHeight,"px"),verticalAlign:"middle",background:n.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:"all ".concat(n.motionDurationMid),userSelect:"none",["&:hover:not(".concat(i,"-disabled)")]:{background:n.colorTextTertiary}}),a(n)),{["&".concat(i,"-checked")]:{background:n.switchColor,["&:hover:not(".concat(i,"-disabled)")]:{background:n.colorPrimaryHover}},["&".concat(i,"-loading, &").concat(i,"-disabled")]:{cursor:"not-allowed",opacity:n.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},["&".concat(i,"-rtl")]:{direction:"rtl"}})}},T=n("Switch",(n=>{const e=n.fontSize*n.lineHeight,t=n.controlHeight/2,a=e-4,o=t-4,d=i(n,{switchMinWidth:2*a+8,switchHeight:e,switchDuration:n.motionDurationMid,switchColor:n.colorPrimary,switchDisabledOpacity:n.opacityLoading,switchInnerMarginMin:a/2,switchInnerMarginMax:a+2+4,switchPadding:2,switchPinSize:a,switchBg:n.colorBgContainer,switchMinWidthSM:2*o+4,switchHeightSM:t,switchInnerMarginMinSM:o/2,switchInnerMarginMaxSM:o+2+4,switchPinSizeSM:o,switchHandleShadow:"0 2px 4px 0 ".concat(new c("#00230b").setAlpha(.2).toRgbString()),switchLoadingIconSize:.75*n.fontSizeIcon,switchLoadingIconColor:"rgba(0, 0, 0, ".concat(n.opacityLoading,")"),switchHandleActiveInset:"-30%"});return[H(d),E(d),z(d),y(d),P(d)]})),D=d("small","default"),F=o(r({compatConfig:{MODE:3},name:"ASwitch",__ANT_SWITCH:!0,inheritAttrs:!1,props:{id:String,prefixCls:String,size:v.oneOf(D),disabled:{type:Boolean,default:void 0},checkedChildren:v.any,unCheckedChildren:v.any,tabindex:v.oneOfType([v.string,v.number]),autofocus:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},checked:v.oneOfType([v.string,v.number,v.looseBool]),checkedValue:v.oneOfType([v.string,v.number,v.looseBool]).def(!0),unCheckedValue:v.oneOfType([v.string,v.number,v.looseBool]).def(!1),onChange:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onMouseup:{type:Function},"onUpdate:checked":{type:Function},onBlur:Function,onFocus:Function},slots:Object,setup(n,i){let{attrs:c,slots:e,expose:t,emit:a}=i;const o=C(),d=l(),r=s((()=>{var i;return null!==(i=n.disabled)&&void 0!==i?i:d.value}));h((()=>{}));const v=u(void 0!==n.checked?n.checked:c.defaultChecked),P=s((()=>v.value===n.checkedValue));g((()=>n.checked),(()=>{v.value=n.checked}));const{prefixCls:y,direction:z,size:E}=w("switch",n),[H,D]=T(y),F=u(),B=()=>{var n;null===(n=F.value)||void 0===n||n.focus()};t({focus:B,blur:()=>{var n;null===(n=F.value)||void 0===n||n.blur()}}),p((()=>{S((()=>{n.autofocus&&!r.value&&F.value.focus()}))}));const A=(n,i)=>{r.value||(a("update:checked",n),a("change",n,i),o.onFieldChange())},L=n=>{a("blur",n)},O=i=>{B();const c=P.value?n.unCheckedValue:n.checkedValue;A(c,i),a("click",c,i)},V=i=>{i.keyCode===x.LEFT?A(n.unCheckedValue,i):i.keyCode===x.RIGHT&&A(n.checkedValue,i),a("keydown",i)},W=n=>{var i;null===(i=F.value)||void 0===i||i.blur(),a("mouseup",n)},X=s((()=>({["".concat(y.value,"-small")]:"small"===E.value,["".concat(y.value,"-loading")]:n.loading,["".concat(y.value,"-checked")]:P.value,["".concat(y.value,"-disabled")]:r.value,[y.value]:!0,["".concat(y.value,"-rtl")]:"rtl"===z.value,[D.value]:!0})));return()=>{var i;return H(M(b,null,{default:()=>[M("button",I(I(I({},f(n,["prefixCls","checkedChildren","unCheckedChildren","checked","autofocus","checkedValue","unCheckedValue","id","onChange","onUpdate:checked"])),c),{},{id:null!==(i=n.id)&&void 0!==i?i:o.id.value,onKeydown:V,onClick:O,onBlur:L,onMouseup:W,type:"button",role:"switch","aria-checked":v.value,disabled:r.value||n.loading,class:[c.class,X.value],ref:F}),[M("div",{class:"".concat(y.value,"-handle")},[n.loading?M(m,{class:"".concat(y.value,"-loading-icon")},null):null]),M("span",{class:"".concat(y.value,"-inner")},[M("span",{class:"".concat(y.value,"-inner-checked")},[k(e,n,"checkedChildren")]),M("span",{class:"".concat(y.value,"-inner-unchecked")},[k(e,n,"unCheckedChildren")])])])]}))}}}));export{F as _};
