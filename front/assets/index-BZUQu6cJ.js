import{u as o,c as e}from"./styleChecker-CGBUfLOL.js";import{aJ as n,s as t,o as a,ar as l,P as r,d as i,_ as c,r as s,a as d,c as u,f as p,ax as m,az as f,aA as v,ay as g,ad as C,w as y,b,aH as x,e as k,b2 as S,b8 as h,g as w,m as T,a5 as B,aQ as P,aF as z,bj as I,u as F,aT as H,a7 as O,aL as N,au as A,U as M,aX as E,bm as L,be as j,bs as D,bt as R,aW as W,bu as G,bv as V,bw as X,bx as K,bl as U,E as Y,T as q}from"./index-D0wN_fuZ.js";import{K as _}from"./KeyCode-BFt-2P2l.js";import{i as J,o as Q}from"./createContext-Cl9SgfpP.js";import{p as Z}from"./debounce-Cg7NfA5c.js";import{a as $,n as oo,k as eo}from"./colors-Bmc914HC.js";import{B as no,o as to,t as ao}from"./index-C2qDfXmS.js";import{i as lo}from"./dropdown-DdxiuV_U.js";const ro=new n("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),io=new n("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),co=function(o){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{antCls:n}=o,t="".concat(n,"-fade"),a=e?"&":"";return[$(t,ro,io,o.motionDurationMid,e),{["\n        ".concat(a).concat(t,"-enter,\n        ").concat(a).concat(t,"-appear\n      ")]:{opacity:0,animationTimingFunction:"linear"},["".concat(a).concat(t,"-leave")]:{animationTimingFunction:"linear"}}]};function so(){const e=t({});let n=null;const r=o();return a((()=>{n=r.value.subscribe((o=>{e.value=o}))})),l((()=>{r.value.unsubscribe(n)})),e}function uo(){return{keyboard:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},afterClose:Function,closable:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},destroyOnClose:{type:Boolean,default:void 0},mousePosition:r.shape({x:Number,y:Number}).loose,title:r.any,footer:r.any,transitionName:String,maskTransitionName:String,animation:r.any,maskAnimation:r.any,wrapStyle:{type:Object,default:void 0},bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},prefixCls:String,wrapClassName:String,rootClassName:String,width:[String,Number],height:[String,Number],zIndex:Number,bodyProps:r.any,maskProps:r.any,wrapProps:r.any,getContainer:r.any,dialogStyle:{type:Object,default:void 0},dialogClass:String,closeIcon:r.any,forceRender:{type:Boolean,default:void 0},getOpenCount:Function,focusTriggerAfterClose:{type:Boolean,default:void 0},onClose:Function,modalRender:Function}}function po(o,e,n){let t=e;return!t&&n&&(t="".concat(o,"-").concat(n)),t}let mo=-1;function fo(o,e){let n=o["page".concat(e?"Y":"X","Offset")];const t="scroll".concat(e?"Top":"Left");if("number"!=typeof n){const e=o.document;n=e.documentElement[t],"number"!=typeof n&&(n=e.body[t])}return n}const vo={width:0,height:0,overflow:"hidden",outline:"none"},go=i({compatConfig:{MODE:3},name:"DialogContent",inheritAttrs:!1,props:c(c({},uo()),{motionName:String,ariaId:String,onVisibleChanged:Function,onMousedown:Function,onMouseup:Function}),setup(o,e){let{expose:n,slots:t,attrs:a}=e;const l=s(),r=s(),i=s();n({focus:()=>{var o;null===(o=l.value)||void 0===o||o.focus()},changeActive:o=>{const{activeElement:e}=document;o&&e===r.value?l.value.focus():o||e!==l.value||r.value.focus()}});const c=s(),y=d((()=>{const{width:e,height:n}=o,t={};return void 0!==e&&(t.width="number"==typeof e?"".concat(e,"px"):e),void 0!==n&&(t.height="number"==typeof n?"".concat(n,"px"):n),c.value&&(t.transformOrigin=c.value),t})),b=()=>{C((()=>{if(i.value){const e=function(o){const e=o.getBoundingClientRect(),n={left:e.left,top:e.top},t=o.ownerDocument,a=t.defaultView||t.parentWindow;return n.left+=fo(a),n.top+=fo(a,!0),n}(i.value);c.value=o.mousePosition?"".concat(o.mousePosition.x-e.left,"px ").concat(o.mousePosition.y-e.top,"px"):""}}))},x=e=>{o.onVisibleChanged(e)};return()=>{var e,n,c,s;const{prefixCls:d,footer:C=(null===(e=t.footer)||void 0===e?void 0:e.call(t)),title:k=(null===(n=t.title)||void 0===n?void 0:n.call(t)),ariaId:S,closable:h,closeIcon:w=(null===(c=t.closeIcon)||void 0===c?void 0:c.call(t)),onClose:T,bodyStyle:B,bodyProps:P,onMousedown:z,onMouseup:I,visible:F,modalRender:H=t.modalRender,destroyOnClose:O,motionName:N}=o;let A,M,E;C&&(A=u("div",{class:"".concat(d,"-footer")},[C])),k&&(M=u("div",{class:"".concat(d,"-header")},[u("div",{class:"".concat(d,"-title"),id:S},[k])])),h&&(E=u("button",{type:"button",onClick:T,"aria-label":"Close",class:"".concat(d,"-close")},[w||u("span",{class:"".concat(d,"-close-x")},null)]));const L=u("div",{class:"".concat(d,"-content")},[E,M,u("div",p({class:"".concat(d,"-body"),style:B},P),[null===(s=t.default)||void 0===s?void 0:s.call(t)]),A]),j=m(N);return u(g,p(p({},j),{},{onBeforeEnter:b,onAfterEnter:()=>x(!0),onAfterLeave:()=>x(!1)}),{default:()=>[F||!O?f(u("div",p(p({},a),{},{ref:i,key:"dialog-element",role:"document",style:[y.value,a.style],class:[d,a.class],onMousedown:z,onMouseup:I}),[u("div",{tabindex:0,ref:l,style:vo,"aria-hidden":"true"},null),H?H({originVNode:L}):L,u("div",{tabindex:0,ref:r,style:vo,"aria-hidden":"true"},null)]),[[v,F]]):null]})}}}),Co=i({compatConfig:{MODE:3},name:"DialogMask",props:{prefixCls:String,visible:Boolean,motionName:String,maskProps:Object},setup:(o,e)=>()=>{const{prefixCls:e,visible:n,maskProps:t,motionName:a}=o,l=m(a);return u(g,l,{default:()=>[f(u("div",p({class:"".concat(e,"-mask")},t),null),[[v,n]])]})}}),yo=i({compatConfig:{MODE:3},name:"VcDialog",inheritAttrs:!1,props:J(c(c({},uo()),{getOpenCount:Function,scrollLocker:Object}),{mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,destroyOnClose:!1,prefixCls:"rc-dialog",getOpenCount:()=>null,focusTriggerAfterClose:!0}),setup(o,e){let{attrs:n,slots:a}=e;const l=t(),r=t(),i=t(),s=t(o.visible),d=t("vcDialogTitle".concat((mo+=1,mo))),m=e=>{var n,t;if(e)S(r.value,document.activeElement)||(l.value=document.activeElement,null===(n=i.value)||void 0===n||n.focus());else{const e=s.value;if(s.value=!1,o.mask&&l.value&&o.focusTriggerAfterClose){try{l.value.focus({preventScroll:!0})}catch(a){}l.value=null}e&&(null===(t=o.afterClose)||void 0===t||t.call(o))}},f=e=>{var n;null===(n=o.onClose)||void 0===n||n.call(o,e)},v=t(!1),g=t(),C=()=>{clearTimeout(g.value),v.value=!0},h=()=>{g.value=setTimeout((()=>{v.value=!1}))},w=e=>{if(!o.maskClosable)return null;v.value?v.value=!1:r.value===e.target&&f(e)},T=e=>{if(o.keyboard&&e.keyCode===_.ESC)return e.stopPropagation(),void f(e);o.visible&&e.keyCode===_.TAB&&i.value.changeActive(!e.shiftKey)};return y((()=>o.visible),(()=>{o.visible&&(s.value=!0)}),{flush:"post"}),b((()=>{var e;clearTimeout(g.value),null===(e=o.scrollLocker)||void 0===e||e.unLock()})),x((()=>{var e,n;null===(e=o.scrollLocker)||void 0===e||e.unLock(),s.value&&(null===(n=o.scrollLocker)||void 0===n||n.lock())})),()=>{const{prefixCls:e,mask:t,visible:l,maskTransitionName:v,maskAnimation:g,zIndex:y,wrapClassName:b,rootClassName:x,wrapStyle:S,closable:B,maskProps:P,maskStyle:z,transitionName:I,animation:F,wrapProps:H,title:O=a.title}=o,{style:N,class:A}=n;return u("div",p({class:["".concat(e,"-root"),x]},Z(o,{data:!0})),[u(Co,{prefixCls:e,visible:t&&l,motionName:po(e,v,g),style:c({zIndex:y},z),maskProps:P},null),u("div",p({tabIndex:-1,onKeydown:T,class:k("".concat(e,"-wrap"),b),ref:r,onClick:w,role:"dialog","aria-labelledby":O?d.value:null,style:c(c({zIndex:y},S),{display:s.value?null:"none"})},H),[u(go,p(p({},Q(o,["scrollLocker"])),{},{style:N,class:A,onMousedown:C,onMouseup:h,ref:i,closable:B,ariaId:d.value,prefixCls:e,visible:l,onClose:f,onVisibleChanged:m,motionName:po(e,I,F)}),a)])])}}}),bo=i({compatConfig:{MODE:3},name:"DialogWrap",inheritAttrs:!1,props:J(uo(),{visible:!1}),setup(o,e){let{attrs:n,slots:t}=e;const a=s(o.visible);return h({},{inTriggerContext:!1}),y((()=>o.visible),(()=>{o.visible&&(a.value=!0)}),{flush:"post"}),()=>{const{visible:e,getContainer:l,forceRender:r,destroyOnClose:i=!1,afterClose:s}=o;let d=c(c(c({},o),n),{ref:"_component",key:"dialog"});return!1===l?u(yo,p(p({},d),{},{getOpenCount:()=>2}),t):r||!i||a.value?u(oo,{autoLock:!0,visible:e,forceRender:r,getContainer:l},{default:o=>(d=c(c(c({},d),o),{afterClose:()=>{null==s||s(),a.value=!1}}),u(yo,d,t))}):null}}});function xo(o){return{position:o,top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0}}const ko=o=>{const{componentCls:e}=o;return[{["".concat(e,"-root")]:{["".concat(e).concat(o.antCls,"-zoom-enter, ").concat(e).concat(o.antCls,"-zoom-appear")]:{transform:"none",opacity:0,animationDuration:o.motionDurationSlow,userSelect:"none"},["".concat(e).concat(o.antCls,"-zoom-leave ").concat(e,"-content")]:{pointerEvents:"none"},["".concat(e,"-mask")]:c(c({},xo("fixed")),{zIndex:o.zIndexPopupBase,height:"100%",backgroundColor:o.colorBgMask,["".concat(e,"-hidden")]:{display:"none"}}),["".concat(e,"-wrap")]:c(c({},xo("fixed")),{overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{["".concat(e,"-root")]:co(o)}]},So=o=>{const{componentCls:e}=o;return[{["".concat(e,"-root")]:{["".concat(e,"-wrap")]:{zIndex:o.zIndexPopupBase,position:"fixed",inset:0,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"},["".concat(e,"-wrap-rtl")]:{direction:"rtl"},["".concat(e,"-centered")]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[e]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},["@media (max-width: ".concat(o.screenSMMax,")")]:{[e]:{maxWidth:"calc(100vw - 16px)",margin:"".concat(o.marginXS," auto")},["".concat(e,"-centered")]:{[e]:{flex:1}}}}},{[e]:c(c({},B(o)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:"calc(100vw - ".concat(2*o.margin,"px)"),margin:"0 auto",paddingBottom:o.paddingLG,["".concat(e,"-title")]:{margin:0,color:o.modalHeadingColor,fontWeight:o.fontWeightStrong,fontSize:o.modalHeaderTitleFontSize,lineHeight:o.modalHeaderTitleLineHeight,wordWrap:"break-word"},["".concat(e,"-content")]:{position:"relative",backgroundColor:o.modalContentBg,backgroundClip:"padding-box",border:0,borderRadius:o.borderRadiusLG,boxShadow:o.boxShadowSecondary,pointerEvents:"auto",padding:"".concat(o.paddingMD,"px ").concat(o.paddingContentHorizontalLG,"px")},["".concat(e,"-close")]:c({position:"absolute",top:(o.modalHeaderCloseSize-o.modalCloseBtnSize)/2,insetInlineEnd:(o.modalHeaderCloseSize-o.modalCloseBtnSize)/2,zIndex:o.zIndexPopupBase+10,padding:0,color:o.modalCloseColor,fontWeight:o.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:o.borderRadiusSM,width:o.modalConfirmIconSize,height:o.modalConfirmIconSize,border:0,outline:0,cursor:"pointer",transition:"color ".concat(o.motionDurationMid,", background-color ").concat(o.motionDurationMid),"&-x":{display:"block",fontSize:o.fontSizeLG,fontStyle:"normal",lineHeight:"".concat(o.modalCloseBtnSize,"px"),textAlign:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:o.modalIconHoverColor,backgroundColor:o.wireframe?"transparent":o.colorFillContent,textDecoration:"none"},"&:active":{backgroundColor:o.wireframe?"transparent":o.colorFillContentHover}},P(o)),["".concat(e,"-header")]:{color:o.colorText,background:o.modalHeaderBg,borderRadius:"".concat(o.borderRadiusLG,"px ").concat(o.borderRadiusLG,"px 0 0"),marginBottom:o.marginXS},["".concat(e,"-body")]:{fontSize:o.fontSize,lineHeight:o.lineHeight,wordWrap:"break-word"},["".concat(e,"-footer")]:{textAlign:"end",background:o.modalFooterBg,marginTop:o.marginSM,["".concat(o.antCls,"-btn + ").concat(o.antCls,"-btn:not(").concat(o.antCls,"-dropdown-trigger)")]:{marginBottom:0,marginInlineStart:o.marginXS}},["".concat(e,"-open")]:{overflow:"hidden"}})},{["".concat(e,"-pure-panel")]:{top:"auto",padding:0,display:"flex",flexDirection:"column",["".concat(e,"-content,\n          ").concat(e,"-body,\n          ").concat(e,"-confirm-body-wrapper")]:{display:"flex",flexDirection:"column",flex:"auto"},["".concat(e,"-confirm-body")]:{marginBottom:"auto"}}}]},ho=o=>{const{componentCls:e}=o,n="".concat(e,"-confirm");return{[n]:{"&-rtl":{direction:"rtl"},["".concat(o.antCls,"-modal-header")]:{display:"none"},["".concat(n,"-body-wrapper")]:c({},z()),["".concat(n,"-body")]:{display:"flex",flexWrap:"wrap",alignItems:"center",["".concat(n,"-title")]:{flex:"0 0 100%",display:"block",overflow:"hidden",color:o.colorTextHeading,fontWeight:o.fontWeightStrong,fontSize:o.modalHeaderTitleFontSize,lineHeight:o.modalHeaderTitleLineHeight,["+ ".concat(n,"-content")]:{marginBlockStart:o.marginXS,flexBasis:"100%",maxWidth:"calc(100% - ".concat(o.modalConfirmIconSize+o.marginSM,"px)")}},["".concat(n,"-content")]:{color:o.colorText,fontSize:o.fontSize},["> ".concat(o.iconCls)]:{flex:"none",marginInlineEnd:o.marginSM,fontSize:o.modalConfirmIconSize,["+ ".concat(n,"-title")]:{flex:1},["+ ".concat(n,"-title + ").concat(n,"-content")]:{marginInlineStart:o.modalConfirmIconSize+o.marginSM}}},["".concat(n,"-btns")]:{textAlign:"end",marginTop:o.marginSM,["".concat(o.antCls,"-btn + ").concat(o.antCls,"-btn")]:{marginBottom:0,marginInlineStart:o.marginXS}}},["".concat(n,"-error ").concat(n,"-body > ").concat(o.iconCls)]:{color:o.colorError},["".concat(n,"-warning ").concat(n,"-body > ").concat(o.iconCls,",\n        ").concat(n,"-confirm ").concat(n,"-body > ").concat(o.iconCls)]:{color:o.colorWarning},["".concat(n,"-info ").concat(n,"-body > ").concat(o.iconCls)]:{color:o.colorInfo},["".concat(n,"-success ").concat(n,"-body > ").concat(o.iconCls)]:{color:o.colorSuccess},["".concat(e,"-zoom-leave ").concat(e,"-btns")]:{pointerEvents:"none"}}},wo=o=>{const{componentCls:e}=o;return{["".concat(e,"-root")]:{["".concat(e,"-wrap-rtl")]:{direction:"rtl",["".concat(e,"-confirm-body")]:{direction:"rtl"}}}}},To=o=>{const{componentCls:e,antCls:n}=o,t="".concat(e,"-confirm");return{[e]:{["".concat(e,"-content")]:{padding:0},["".concat(e,"-header")]:{padding:o.modalHeaderPadding,borderBottom:"".concat(o.modalHeaderBorderWidth,"px ").concat(o.modalHeaderBorderStyle," ").concat(o.modalHeaderBorderColorSplit),marginBottom:0},["".concat(e,"-body")]:{padding:o.modalBodyPadding},["".concat(e,"-footer")]:{padding:"".concat(o.modalFooterPaddingVertical,"px ").concat(o.modalFooterPaddingHorizontal,"px"),borderTop:"".concat(o.modalFooterBorderWidth,"px ").concat(o.modalFooterBorderStyle," ").concat(o.modalFooterBorderColorSplit),borderRadius:"0 0 ".concat(o.borderRadiusLG,"px ").concat(o.borderRadiusLG,"px"),marginTop:0}},[t]:{["".concat(n,"-modal-body")]:{padding:"".concat(2*o.padding,"px ").concat(2*o.padding,"px ").concat(o.paddingLG,"px")},["".concat(t,"-body")]:{["> ".concat(o.iconCls)]:{marginInlineEnd:o.margin,["+ ".concat(t,"-title + ").concat(t,"-content")]:{marginInlineStart:o.modalConfirmIconSize+o.margin}}},["".concat(t,"-btns")]:{marginTop:o.marginLG}}}},Bo=w("Modal",(o=>{const e=o.padding,n=o.fontSizeHeading5,t=o.lineHeightHeading5,a=T(o,{modalBodyPadding:o.paddingLG,modalHeaderBg:o.colorBgElevated,modalHeaderPadding:"".concat(e,"px ").concat(o.paddingLG,"px"),modalHeaderBorderWidth:o.lineWidth,modalHeaderBorderStyle:o.lineType,modalHeaderTitleLineHeight:t,modalHeaderTitleFontSize:n,modalHeaderBorderColorSplit:o.colorSplit,modalHeaderCloseSize:t*n+2*e,modalContentBg:o.colorBgElevated,modalHeadingColor:o.colorTextHeading,modalCloseColor:o.colorTextDescription,modalFooterBg:"transparent",modalFooterBorderColorSplit:o.colorSplit,modalFooterBorderStyle:o.lineType,modalFooterPaddingVertical:o.paddingXS,modalFooterPaddingHorizontal:o.padding,modalFooterBorderWidth:o.lineWidth,modalConfirmTitleFontSize:o.fontSizeLG,modalIconHoverColor:o.colorIconHover,modalConfirmIconSize:o.fontSize*o.lineHeight,modalCloseBtnSize:.55*o.controlHeightLG});return[So(a),ho(a),wo(a),ko(a),o.wireframe&&To(a),lo(a,"zoom")]}));let Po;const zo=o=>{Po={x:o.pageX,y:o.pageY},setTimeout((()=>Po=null),100)};e()&&eo(document.documentElement,"click",zo,!0);const Io=i({compatConfig:{MODE:3},name:"AModal",inheritAttrs:!1,props:J({prefixCls:String,visible:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},confirmLoading:{type:Boolean,default:void 0},title:r.any,closable:{type:Boolean,default:void 0},closeIcon:r.any,onOk:Function,onCancel:Function,"onUpdate:visible":Function,"onUpdate:open":Function,onChange:Function,afterClose:Function,centered:{type:Boolean,default:void 0},width:[String,Number],footer:r.any,okText:r.any,okType:String,cancelText:r.any,icon:r.any,maskClosable:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},okButtonProps:A(),cancelButtonProps:A(),destroyOnClose:{type:Boolean,default:void 0},wrapClassName:String,maskTransitionName:String,transitionName:String,getContainer:{type:[String,Function,Boolean,Object],default:void 0},zIndex:Number,bodyStyle:A(),maskStyle:A(),mask:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},wrapProps:Object,focusTriggerAfterClose:{type:Boolean,default:void 0},modalRender:Function,mousePosition:A()},{width:520,confirmLoading:!1,okType:"primary"}),setup(o,e){let{emit:n,slots:t,attrs:a}=e;const[l]=I("Modal"),{prefixCls:r,rootPrefixCls:i,direction:s,getPopupContainer:d}=F("modal",o),[m,f]=Bo(r);H(void 0===o.visible);const v=o=>{n("update:visible",!1),n("update:open",!1),n("cancel",o),n("change",!1)},g=o=>{n("ok",o)},C=()=>{var e,n;const{okText:a=(null===(e=t.okText)||void 0===e?void 0:e.call(t)),okType:r,cancelText:i=(null===(n=t.cancelText)||void 0===n?void 0:n.call(t)),confirmLoading:c}=o;return u(M,null,[u(no,p({onClick:v},o.cancelButtonProps),{default:()=>[i||l.value.cancelText]}),u(no,p(p({},to(r)),{},{loading:c,onClick:g},o.okButtonProps),{default:()=>[a||l.value.okText]})])};return()=>{var e,n;const{prefixCls:l,visible:g,open:y,wrapClassName:b,centered:x,getContainer:S,closeIcon:h=(null===(e=t.closeIcon)||void 0===e?void 0:e.call(t)),focusTriggerAfterClose:w=!0}=o,T=function(o,e){var n={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&e.indexOf(t)<0&&(n[t]=o[t]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(o);a<t.length;a++)e.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(o,t[a])&&(n[t[a]]=o[t[a]])}return n}(o,["prefixCls","visible","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),B=k(b,{["".concat(r.value,"-centered")]:!!x,["".concat(r.value,"-wrap-rtl")]:"rtl"===s.value});return m(u(bo,p(p(p({},T),a),{},{rootClassName:f.value,class:k(f.value,a.class),getContainer:S||(null==d?void 0:d.value),prefixCls:r.value,wrapClassName:B,visible:null!=y?y:g,onClose:v,focusTriggerAfterClose:w,transitionName:N(i.value,"zoom",o.transitionName),maskTransitionName:N(i.value,"fade",o.maskTransitionName),mousePosition:null!==(n=T.mousePosition)&&void 0!==n?n:Po}),c(c({},t),{footer:t.footer||C,closeIcon:()=>u("span",{class:"".concat(r.value,"-close-x")},[h||u(O,{class:"".concat(r.value,"-close-icon")},null)])})))}}});function Fo(o){return!(!o||!o.then)}const Ho=i({compatConfig:{MODE:3},name:"ActionButton",props:{type:{type:String},actionFn:Function,close:Function,autofocus:Boolean,prefixCls:String,buttonProps:A(),emitEvent:Boolean,quitOnNullishReturnValue:Boolean},setup(o,e){let{slots:n}=e;const l=t(!1),r=t(),i=t(!1);let c;const s=(()=>{const o=t(!1);return b((()=>{o.value=!0})),o})();a((()=>{o.autofocus&&(c=setTimeout((()=>{var o,e;return null===(e=null===(o=E(r.value))||void 0===o?void 0:o.focus)||void 0===e?void 0:e.call(o)})))})),b((()=>{clearTimeout(c)}));const d=function(){for(var e,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];null===(e=o.close)||void 0===e||e.call(o,...t)},m=e=>{const{actionFn:n}=o;if(l.value)return;if(l.value=!0,!n)return void d();let t;if(o.emitEvent){if(t=n(e),o.quitOnNullishReturnValue&&!Fo(t))return l.value=!1,void d(e)}else if(n.length)t=n(o.close),l.value=!1;else if(t=n(),!t)return void d();(o=>{Fo(o)&&(i.value=!0,o.then((function(){s.value||(i.value=!1),d(...arguments),l.value=!1}),(o=>(s.value||(i.value=!1),l.value=!1,Promise.reject(o)))))})(t)};return()=>{const{type:e,prefixCls:t,buttonProps:a}=o;return u(no,p(p(p({},to(e)),{},{onClick:m,loading:i.value,prefixCls:t},a),{},{ref:r}),n)}}});function Oo(o){return"function"==typeof o?o():o}const No=i({name:"ConfirmDialog",inheritAttrs:!1,props:["icon","onCancel","onOk","close","closable","zIndex","afterClose","visible","open","keyboard","centered","getContainer","maskStyle","okButtonProps","cancelButtonProps","okType","prefixCls","okCancel","width","mask","maskClosable","okText","cancelText","autoFocusButton","transitionName","maskTransitionName","type","title","content","direction","rootPrefixCls","bodyStyle","closeIcon","modalRender","focusTriggerAfterClose","wrapClassName","confirmPrefixCls","footer"],setup(o,e){let{attrs:n}=e;const[t]=I("Modal");return()=>{const{icon:e,onCancel:a,onOk:l,close:r,okText:i,closable:c=!1,zIndex:s,afterClose:d,keyboard:p,centered:m,getContainer:f,maskStyle:v,okButtonProps:g,cancelButtonProps:C,okCancel:y,width:b=416,mask:x=!0,maskClosable:S=!1,type:h,open:w,title:T,content:B,direction:P,closeIcon:z,modalRender:I,focusTriggerAfterClose:F,rootPrefixCls:H,bodyStyle:O,wrapClassName:A,footer:M}=o;let E=e;if(!e&&null!==e)switch(h){case"info":E=u(R,null,null);break;case"success":E=u(D,null,null);break;case"error":E=u(j,null,null);break;default:E=u(L,null,null)}const W=o.okType||"primary",G=o.prefixCls||"ant-modal",V="".concat(G,"-confirm"),X=n.style||{},K=null!=y?y:"confirm"===h,U=null!==o.autoFocusButton&&(o.autoFocusButton||"ok"),Y="".concat(G,"-confirm"),q=k(Y,"".concat(Y,"-").concat(o.type),{["".concat(Y,"-rtl")]:"rtl"===P},n.class),_=t.value,J=K&&u(Ho,{actionFn:a,close:r,autofocus:"cancel"===U,buttonProps:C,prefixCls:"".concat(H,"-btn")},{default:()=>[Oo(o.cancelText)||_.cancelText]});return u(Io,{prefixCls:G,class:q,wrapClassName:k({["".concat(Y,"-centered")]:!!m},A),onCancel:o=>null==r?void 0:r({triggerCancel:!0},o),open:w,title:"",footer:"",transitionName:N(H,"zoom",o.transitionName),maskTransitionName:N(H,"fade",o.maskTransitionName),mask:x,maskClosable:S,maskStyle:v,style:X,bodyStyle:O,width:b,zIndex:s,afterClose:d,keyboard:p,centered:m,getContainer:f,closable:c,closeIcon:z,modalRender:I,focusTriggerAfterClose:F},{default:()=>[u("div",{class:"".concat(V,"-body-wrapper")},[u("div",{class:"".concat(V,"-body")},[Oo(E),void 0===T?null:u("span",{class:"".concat(V,"-title")},[Oo(T)]),u("div",{class:"".concat(V,"-content")},[Oo(B)])]),void 0!==M?Oo(M):u("div",{class:"".concat(V,"-btns")},[J,u(Ho,{type:W,actionFn:l,close:r,autofocus:"ok"===U,buttonProps:g,prefixCls:"".concat(H,"-btn")},{default:()=>[Oo(i)||(K?_.okText:_.justOkText)]})])])]})}}}),Ao=[],Mo=o=>{const e=document.createDocumentFragment();let n=c(c({},Q(o,["parentContext","appContext"])),{close:l,open:!0}),t=null;function a(){t&&(W(null,e),t=null);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];const i=a.some((o=>o&&o.triggerCancel));o.onCancel&&i&&o.onCancel((()=>{}),...a.slice(1));for(let o=0;o<Ao.length;o++){if(Ao[o]===l){Ao.splice(o,1);break}}}function l(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];n=c(c({},n),{open:!1,afterClose:()=>{"function"==typeof o.afterClose&&o.afterClose(),a.apply(this,t)}}),n.visible&&delete n.visible,r(n)}function r(o){n="function"==typeof o?o(n):c(c({},n),o),t&&ao(t,n,e)}const i=o=>{const e=X,n=e.prefixCls,t=o.prefixCls||"".concat(n,"-modal"),a=e.iconPrefixCls,l=G();return u(V,p(p({},e),{},{prefixCls:n}),{default:()=>[u(No,p(p({},o),{},{rootPrefixCls:n,prefixCls:t,iconPrefixCls:a,locale:l,cancelText:o.cancelText||l.cancelText}),null)]})};return t=function(n){const t=u(i,c({},n));return t.appContext=o.parentContext||o.appContext||t.appContext,W(t,e),t}(n),Ao.push(l),{destroy:l,update:r}};function Eo(o){return c(c({},o),{type:"warning"})}function Lo(o){return c(c({},o),{type:"info"})}function jo(o){return c(c({},o),{type:"success"})}function Do(o){return c(c({},o),{type:"error"})}function Ro(o){return c(c({},o),{type:"confirm"})}const Wo=i({name:"HookModal",inheritAttrs:!1,props:J({config:Object,afterClose:Function,destroyAction:Function,open:Boolean},{config:{width:520,okType:"primary"}}),setup(o,e){let{expose:n}=e;var t;const a=d((()=>o.open)),l=d((()=>o.config)),{direction:r,getPrefixCls:i}=K(),c=i("modal"),s=i(),m=()=>{var e,n;null==o||o.afterClose(),null===(n=(e=l.value).afterClose)||void 0===n||n.call(e)},f=function(){o.destroyAction(...arguments)};n({destroy:f});const v=null!==(t=l.value.okCancel)&&void 0!==t?t:"confirm"===l.value.type,[g]=I("Modal",U.Modal);return()=>u(No,p(p({prefixCls:c,rootPrefixCls:s},l.value),{},{close:f,open:a.value,afterClose:m,okText:l.value.okText||(v?null==g?void 0:g.value.okText:null==g?void 0:g.value.justOkText),direction:l.value.direction||r.value,cancelText:l.value.cancelText||(null==g?void 0:g.value.cancelText)}),null)}});let Go=0;const Vo=i({name:"ElementsHolder",inheritAttrs:!1,setup(o,e){let{expose:n}=e;const a=t([]);return n({addModal:o=>(a.value.push(o),a.value=a.value.slice(),()=>{a.value=a.value.filter((e=>e!==o))})}),()=>a.value.map((o=>o()))}});function Xo(o){return Mo(Eo(o))}Io.useModal=function(){const o=t(null),e=t([]);y(e,(()=>{if(e.value.length){[...e.value].forEach((o=>{o()})),e.value=[]}}),{immediate:!0});const n=n=>function(a){var l;Go+=1;const r=t(!0),i=t(null),s=t(Y(a)),d=t({});y((()=>a),(o=>{f(c(c({},q(o)?o.value:o),d.value))}));const p=function(){r.value=!1;for(var o=arguments.length,e=new Array(o),n=0;n<o;n++)e[n]=arguments[n];const t=e.some((o=>o&&o.triggerCancel));s.value.onCancel&&t&&s.value.onCancel((()=>{}),...e.slice(1))};let m;m=null===(l=o.value)||void 0===l?void 0:l.addModal((()=>u(Wo,{key:"modal-".concat(Go),config:n(s.value),ref:i,open:r.value,destroyAction:p,afterClose:()=>{null==m||m()}},null))),m&&Ao.push(m);const f=o=>{s.value=c(c({},s.value),o)};return{destroy:()=>{i.value?p():e.value=[...e.value,p]},update:o=>{d.value=o,i.value?f(o):e.value=[...e.value,()=>f(o)]}}},a=d((()=>({info:n(Lo),success:n(jo),error:n(Do),warning:n(Eo),confirm:n(Ro)}))),l=Symbol("modalHolderKey");return[a.value,()=>u(Vo,{key:l,ref:o},null)]},Io.info=function(o){return Mo(Lo(o))},Io.success=function(o){return Mo(jo(o))},Io.error=function(o){return Mo(Do(o))},Io.warning=Xo,Io.warn=Xo,Io.confirm=function(o){return Mo(Ro(o))},Io.destroyAll=function(){for(;Ao.length;){const o=Ao.pop();o&&o()}},Io.install=function(o){return o.component(Io.name,Io),o};export{Ho as A,Io as M,so as u};
