import{_ as e,c as t,e as n,at as o,aS as a,d as l,k as r,r as i,w as c,ar as s,o as d,b as u,P as v,a as p,s as h,aR as f,ad as y,a_ as g,aH as b,f as m,p as k,i as K,av as x,a3 as w,bp as S,az as O,aA as E,ay as C,U as N,I as D,aY as P,aw as M,g as T,m as L,a5 as j,aD as H,aJ as I,u as A,a9 as F,a2 as B,a8 as R,a1 as z,au as V}from"./index-D0wN_fuZ.js";import{w as _,j as Y,o as G,i as U,d as $}from"./createContext-Cl9SgfpP.js";import{R as W}from"./index-DtiMcqIf.js";import{s as q}from"./supportsPassive-pertglWR.js";import{p as X,d as J}from"./debounce-Cg7NfA5c.js";import{c as Q,g as Z}from"./collapseMotion-BM3-mHdV.js";import{K as ee}from"./KeyCode-BFt-2P2l.js";import{g as te}from"./RestBase-6hwWqa7t.js";function ne(){const e=t=>{e.current=t};return e}const oe=(o,a)=>{let{height:l,offset:r,prefixCls:i,onInnerResize:c}=o,{slots:s}=a;var d;let u={},v={display:"flex",flexDirection:"column"};return void 0!==r&&(u={height:"".concat(l,"px"),position:"relative",overflow:"hidden"},v=e(e({},v),{transform:"translateY(".concat(r,"px)"),position:"absolute",left:0,right:0,top:0})),t("div",{style:u},[t(W,{onResize:e=>{let{offsetHeight:t}=e;t&&c&&c()}},{default:()=>[t("div",{style:v,class:n({["".concat(i,"-holder-inner")]:i})},[null===(d=s.default)||void 0===d?void 0:d.call(s)])]})])};oe.displayName="Filter",oe.inheritAttrs=!1,oe.props={prefixCls:String,height:Number,offset:Number,onInnerResize:Function};const ae=(e,t)=>{let{setRef:n}=e,{slots:l}=t;var r;const i=o(null===(r=l.default)||void 0===r?void 0:r.call(l));return i&&i.length?a(i[0],{ref:n}):i};ae.props={setRef:{type:Function,default:()=>{}}};function le(e){return"touches"in e?e.touches[0].pageY:e.pageY}const re=l({compatConfig:{MODE:3},name:"ScrollBar",inheritAttrs:!1,props:{prefixCls:String,scrollTop:Number,scrollHeight:Number,height:Number,count:Number,onScroll:{type:Function},onStartMove:{type:Function},onStopMove:{type:Function}},setup:()=>({moveRaf:null,scrollbarRef:ne(),thumbRef:ne(),visibleTimeout:null,state:r({dragging:!1,pageY:null,startTop:null,visible:!1})}),watch:{scrollTop:{handler(){this.delayHidden()},flush:"post"}},mounted(){var e,t;null===(e=this.scrollbarRef.current)||void 0===e||e.addEventListener("touchstart",this.onScrollbarTouchStart,!!q&&{passive:!1}),null===(t=this.thumbRef.current)||void 0===t||t.addEventListener("touchstart",this.onMouseDown,!!q&&{passive:!1})},beforeUnmount(){this.removeEvents(),clearTimeout(this.visibleTimeout)},methods:{delayHidden(){clearTimeout(this.visibleTimeout),this.state.visible=!0,this.visibleTimeout=setTimeout((()=>{this.state.visible=!1}),2e3)},onScrollbarTouchStart(e){e.preventDefault()},onContainerMouseDown(e){e.stopPropagation(),e.preventDefault()},patchEvents(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),this.thumbRef.current.addEventListener("touchmove",this.onMouseMove,!!q&&{passive:!1}),this.thumbRef.current.addEventListener("touchend",this.onMouseUp)},removeEvents(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.scrollbarRef.current.removeEventListener("touchstart",this.onScrollbarTouchStart,!!q&&{passive:!1}),this.thumbRef.current&&(this.thumbRef.current.removeEventListener("touchstart",this.onMouseDown,!!q&&{passive:!1}),this.thumbRef.current.removeEventListener("touchmove",this.onMouseMove,!!q&&{passive:!1}),this.thumbRef.current.removeEventListener("touchend",this.onMouseUp)),_.cancel(this.moveRaf)},onMouseDown(t){const{onStartMove:n}=this.$props;e(this.state,{dragging:!0,pageY:le(t),startTop:this.getTop()}),n(),this.patchEvents(),t.stopPropagation(),t.preventDefault()},onMouseMove(e){const{dragging:t,pageY:n,startTop:o}=this.state,{onScroll:a}=this.$props;if(_.cancel(this.moveRaf),t){const t=o+(le(e)-n),l=this.getEnableScrollRange(),r=this.getEnableHeightRange(),i=r?t/r:0,c=Math.ceil(i*l);this.moveRaf=_((()=>{a(c)}))}},onMouseUp(){const{onStopMove:e}=this.$props;this.state.dragging=!1,e(),this.removeEvents()},getSpinHeight(){const{height:e,scrollHeight:t}=this.$props;let n=e/t*100;return n=Math.max(n,20),n=Math.min(n,e/2),Math.floor(n)},getEnableScrollRange(){const{scrollHeight:e,height:t}=this.$props;return e-t||0},getEnableHeightRange(){const{height:e}=this.$props;return e-this.getSpinHeight()||0},getTop(){const{scrollTop:e}=this.$props,t=this.getEnableScrollRange(),n=this.getEnableHeightRange();if(0===e||0===t)return 0;return e/t*n},showScroll(){const{height:e,scrollHeight:t}=this.$props;return t>e}},render(){const{dragging:e,visible:o}=this.state,{prefixCls:a}=this.$props,l=this.getSpinHeight()+"px",r=this.getTop()+"px",i=this.showScroll(),c=i&&o;return t("div",{ref:this.scrollbarRef,class:n("".concat(a,"-scrollbar"),{["".concat(a,"-scrollbar-show")]:i}),style:{width:"8px",top:0,bottom:0,right:0,position:"absolute",display:c?void 0:"none"},onMousedown:this.onContainerMouseDown,onMousemove:this.delayHidden},[t("div",{ref:this.thumbRef,class:n("".concat(a,"-scrollbar-thumb"),{["".concat(a,"-scrollbar-thumb-moving")]:e}),style:{width:"100%",height:l,top:r,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:"99px",cursor:"pointer",userSelect:"none"},onMousedown:this.onMouseDown},null)])}});const ie="object"==typeof navigator&&/Firefox/i.test(navigator.userAgent),ce=(e,t)=>{let n=!1,o=null;return function(a){let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=a<0&&e.value||a>0&&t.value;return l&&r?(clearTimeout(o),n=!1):r&&!n||(clearTimeout(o),n=!0,o=setTimeout((()=>{n=!1}),50)),!n&&r}};const se=14/15;const de=[],ue={overflowY:"auto",overflowAnchor:"none"};const ve=l({compatConfig:{MODE:3},name:"List",inheritAttrs:!1,props:{prefixCls:String,data:v.array,height:Number,itemHeight:Number,fullHeight:{type:Boolean,default:void 0},itemKey:{type:[String,Number,Function],required:!0},component:{type:[String,Object]},virtual:{type:Boolean,default:void 0},children:Function,onScroll:Function,onMousedown:Function,onMouseenter:Function,onVisibleChange:Function},setup(t,n){let{expose:o}=n;const a=p((()=>{const{height:e,itemHeight:n,virtual:o}=t;return!(!1===o||!e||!n)})),l=p((()=>{const{height:e,itemHeight:n,data:o}=t;return a.value&&o&&n*o.length>e})),v=r({scrollTop:0,scrollMoving:!1}),m=p((()=>t.data||de)),k=h([]);c(m,(()=>{k.value=f(m.value).slice()}),{immediate:!0});const K=h((e=>{}));c((()=>t.itemKey),(e=>{K.value="function"==typeof e?e:t=>null==t?void 0:t[e]}),{immediate:!0});const x=h(),w=h(),S=h(),O=e=>K.value(e),E={getKey:O};function C(e){let t;t="function"==typeof e?e(v.scrollTop):e;const n=function(e){let t=e;Number.isNaN(j.value)||(t=Math.min(t,j.value));return t=Math.max(t,0),t}(t);x.value&&(x.value.scrollTop=n),v.scrollTop=n}const[N,D,P,M]=function(e,t,n,o){const a=new Map,l=new Map,r=i(Symbol("update"));let d;function u(){_.cancel(d)}function v(){u(),d=_((()=>{a.forEach(((e,t)=>{if(e&&e.offsetParent){const{offsetHeight:n}=e;l.get(t)!==n&&(r.value=Symbol("update"),l.set(t,e.offsetHeight))}}))}))}return c(e,(()=>{r.value=Symbol("update")})),s((()=>{u()})),[function(e,n){const o=t(e);a.get(o),n?(a.set(o,n.$el||n),v()):a.delete(o)},v,l,r]}(k,O),T=r({scrollHeight:void 0,start:0,end:0,offset:void 0}),L=h(0);d((()=>{y((()=>{var e;L.value=(null===(e=w.value)||void 0===e?void 0:e.offsetHeight)||0}))})),g((()=>{y((()=>{var e;L.value=(null===(e=w.value)||void 0===e?void 0:e.offsetHeight)||0}))})),c([a,k],(()=>{a.value||e(T,{scrollHeight:void 0,start:0,end:k.value.length-1,offset:void 0})}),{immediate:!0}),c([a,k,L,l],(()=>{a.value&&!l.value&&e(T,{scrollHeight:L.value,start:0,end:k.value.length-1,offset:void 0}),x.value&&(v.scrollTop=x.value.scrollTop)}),{immediate:!0}),c([l,a,()=>v.scrollTop,k,M,()=>t.height,L],(()=>{if(!a.value||!l.value)return;let n,o,r,i=0;const c=k.value.length,s=k.value,d=v.scrollTop,{itemHeight:u,height:p}=t,h=d+p;for(let e=0;e<c;e+=1){const t=s[e],a=O(t);let l=P.get(a);void 0===l&&(l=u);const c=i+l;void 0===n&&c>=d&&(n=e,o=i),void 0===r&&c>h&&(r=e),i=c}void 0===n&&(n=0,o=0,r=Math.ceil(p/u)),void 0===r&&(r=c-1),r=Math.min(r+1,c),e(T,{scrollHeight:i,start:n,end:r,offset:o})}),{immediate:!0});const j=p((()=>T.scrollHeight-t.height));const H=p((()=>v.scrollTop<=0)),I=p((()=>v.scrollTop>=j.value)),A=ce(H,I);const[F,B]=function(e,t,n,o){let a=0,l=null,r=null,i=!1;const c=ce(t,n);return[function(t){if(!e.value)return;_.cancel(l);const{deltaY:n}=t;a+=n,r=n,c(n)||(ie||t.preventDefault(),l=_((()=>{o(a*(i?10:1)),a=0})))},function(t){e.value&&(i=t.detail===r)}]}(a,H,I,(e=>{C((t=>t+e))}));function R(e){a.value&&e.preventDefault()}!function(e,t,n){let o=!1,a=0,l=null,r=null;const i=()=>{l&&(l.removeEventListener("touchmove",s),l.removeEventListener("touchend",v))},s=e=>{if(o){const t=Math.ceil(e.touches[0].pageY);let o=a-t;a=t,n(o)&&e.preventDefault(),clearInterval(r),r=setInterval((()=>{o*=se,(!n(o,!0)||Math.abs(o)<=.1)&&clearInterval(r)}),16)}},v=()=>{o=!1,i()},p=e=>{i(),1!==e.touches.length||o||(o=!0,a=Math.ceil(e.touches[0].pageY),l=e.target,l.addEventListener("touchmove",s,{passive:!1}),l.addEventListener("touchend",v))},h=()=>{};d((()=>{document.addEventListener("touchmove",h,{passive:!1}),c(e,(e=>{t.value.removeEventListener("touchstart",p),i(),clearInterval(r),e&&t.value.addEventListener("touchstart",p,{passive:!1})}),{immediate:!0})})),u((()=>{document.removeEventListener("touchmove",h)}))}(a,x,((e,t)=>!A(e,t)&&(F({preventDefault(){},deltaY:e}),!0)));const z=()=>{x.value&&(x.value.removeEventListener("wheel",F,!!q&&{passive:!1}),x.value.removeEventListener("DOMMouseScroll",B),x.value.removeEventListener("MozMousePixelScroll",R))};b((()=>{y((()=>{x.value&&(z(),x.value.addEventListener("wheel",F,!!q&&{passive:!1}),x.value.addEventListener("DOMMouseScroll",B),x.value.addEventListener("MozMousePixelScroll",R))}))})),u((()=>{z()}));const V=function(e,t,n,o,a,l,r,i){let c;return s=>{if(null==s)return void i();_.cancel(c);const d=t.value,u=o.itemHeight;if("number"==typeof s)r(s);else if(s&&"object"==typeof s){let t;const{align:o}=s;"index"in s?({index:t}=s):t=d.findIndex((e=>a(e)===s.key));const{offset:i=0}=s,v=(s,p)=>{if(s<0||!e.value)return;const h=e.value.clientHeight;let f=!1,y=p;if(h){const l=p||o;let c=0,s=0,v=0;const g=Math.min(d.length,t);for(let e=0;e<=g;e+=1){const o=a(d[e]);s=c;const l=n.get(o);v=s+(void 0===l?u:l),c=v,e===t&&void 0===l&&(f=!0)}const b=e.value.scrollTop;let m=null;switch(l){case"top":m=s-i;break;case"bottom":m=v-h+i;break;default:s<b?y="top":v>b+h&&(y="bottom")}null!==m&&m!==b&&r(m)}c=_((()=>{f&&l(),v(s-1,y)}),2)};v(5)}}}(x,k,P,t,O,D,C,(()=>{var e;null===(e=S.value)||void 0===e||e.delayHidden()}));o({scrollTo:V});const Y=p((()=>{let n=null;return t.height&&(n=e({[t.fullHeight?"height":"maxHeight"]:t.height+"px"},ue),a.value&&(n.overflowY="hidden",v.scrollMoving&&(n.pointerEvents="none"))),n}));c([()=>T.start,()=>T.end,k],(()=>{if(t.onVisibleChange){const e=k.value.slice(T.start,T.end+1);t.onVisibleChange(e,k.value)}}),{flush:"post"});return{state:v,mergedData:k,componentStyle:Y,onFallbackScroll:function(e){var n;const{scrollTop:o}=e.currentTarget;o!==v.scrollTop&&C(o),null===(n=t.onScroll)||void 0===n||n.call(t,e)},onScrollBar:function(e){C(e)},componentRef:x,useVirtual:a,calRes:T,collectHeight:D,setInstance:N,sharedConfig:E,scrollBarRef:S,fillerInnerRef:w,delayHideScrollBar:()=>{var e;null===(e=S.value)||void 0===e||e.delayHidden()}}},render(){const o=e(e({},this.$props),this.$attrs),{prefixCls:a="rc-virtual-list",height:l,itemHeight:r,fullHeight:i,data:c,itemKey:s,virtual:d,component:u="div",onScroll:v,children:p=this.$slots.default,style:h,class:f}=o,y=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n}(o,["prefixCls","height","itemHeight","fullHeight","data","itemKey","virtual","component","onScroll","children","style","class"]),g=n(a,f),{scrollTop:b}=this.state,{scrollHeight:k,offset:K,start:x,end:w}=this.calRes,{componentStyle:S,onFallbackScroll:O,onScrollBar:E,useVirtual:C,collectHeight:N,sharedConfig:D,setInstance:P,mergedData:M,delayHideScrollBar:T}=this;return t("div",m({style:e(e({},h),{position:"relative"}),class:g},y),[t(u,{class:"".concat(a,"-holder"),style:S,ref:"componentRef",onScroll:O,onMouseenter:T},{default:()=>[t(oe,{prefixCls:a,height:k,offset:K,onInnerResize:N,ref:"fillerInnerRef"},{default:()=>function(e,n,o,a,l,r){let{getKey:i}=r;return e.slice(n,o+1).map(((e,o)=>{const r=l(e,n+o,{}),c=i(e);return t(ae,{key:c,setRef:t=>a(e,t)},{default:()=>[r]})}))}(M,x,w,P,p,D)})]}),C&&t(re,{ref:"scrollBarRef",prefixCls:a,scrollTop:b,height:l,scrollHeight:k,count:M.length,onScroll:E,onStartMove:()=>{this.state.scrollMoving=!0},onStopMove:()=>{this.state.scrollMoving=!1}},null)])}});function pe(e){const t=h();return b((()=>{t.value=e()}),{flush:"sync"}),t}const he=Symbol("TreeContextKey"),fe=l({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup(e,t){let{slots:n}=t;return k(he,p((()=>e.value))),()=>{var e;return null===(e=n.default)||void 0===e?void 0:e.call(n)}}}),ye=()=>K(he,p((()=>({})))),ge=Symbol("KeysStateKey"),be=()=>K(ge,{expandedKeys:h([]),selectedKeys:h([]),loadedKeys:h([]),loadingKeys:h([]),checkedKeys:h([]),halfCheckedKeys:h([]),expandedKeysSet:p((()=>new Set)),selectedKeysSet:p((()=>new Set)),loadedKeysSet:p((()=>new Set)),loadingKeysSet:p((()=>new Set)),checkedKeysSet:p((()=>new Set)),halfCheckedKeysSet:p((()=>new Set)),flattenNodes:h([])}),me=e=>{let{prefixCls:n,level:o,isStart:a,isEnd:l}=e;const r="".concat(n,"-indent-unit"),i=[];for(let c=0;c<o;c+=1)i.push(t("span",{key:c,class:{[r]:!0,["".concat(r,"-start")]:a[c],["".concat(r,"-end")]:l[c]}},null));return t("span",{"aria-hidden":"true",class:"".concat(n,"-indent")},[i])},ke={eventKey:[String,Number],prefixCls:String,title:v.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:v.any,switcherIcon:v.any,domRef:{type:Function}},Ke={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},xe=()=>({prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:v.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:v.any,selectable:{type:Boolean,default:void 0},expandAction:[String,Boolean],disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:v.any,switcherIcon:v.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String},rootClassName:String,rootStyle:Object});const we="open",Se="close",Oe=l({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:ke,isTreeNode:1,setup(o,a){let{attrs:l,slots:i,expose:c}=a;Y(!("slots"in o.data),"treeData slots is deprecated, please use ".concat(Object.keys(o.data.slots||{}).map((e=>"`v-slot:"+e+"` ")),"instead"));const s=h(!1),u=ye(),{expandedKeysSet:v,selectedKeysSet:f,loadedKeysSet:y,loadingKeysSet:b,checkedKeysSet:k,halfCheckedKeysSet:K}=be(),{dragOverNodeKey:w,dropPosition:S,keyEntities:O}=u.value,E=p((()=>Be(o.eventKey,{expandedKeysSet:v.value,selectedKeysSet:f.value,loadedKeysSet:y.value,loadingKeysSet:b.value,checkedKeysSet:k.value,halfCheckedKeysSet:K.value,dragOverNodeKey:w,dropPosition:S,keyEntities:O}))),C=pe((()=>E.value.expanded)),N=pe((()=>E.value.selected)),D=pe((()=>E.value.checked)),P=pe((()=>E.value.loaded)),M=pe((()=>E.value.loading)),T=pe((()=>E.value.halfChecked)),L=pe((()=>E.value.dragOver)),j=pe((()=>E.value.dragOverGapTop)),H=pe((()=>E.value.dragOverGapBottom)),I=pe((()=>E.value.pos)),A=h(),F=p((()=>{const{eventKey:e}=o,{keyEntities:t}=u.value,{children:n}=t[e]||{};return!!(n||[]).length})),B=p((()=>{const{isLeaf:e}=o,{loadData:t}=u.value,n=F.value;return!1!==e&&(e||!t&&!n||t&&P.value&&!n)})),R=p((()=>B.value?null:C.value?we:Se)),z=p((()=>{const{disabled:e}=o,{disabled:t}=u.value;return!(!t&&!e)})),V=p((()=>{const{checkable:e}=o,{checkable:t}=u.value;return!(!t||!1===e)&&t})),_=p((()=>{const{selectable:e}=o,{selectable:t}=u.value;return"boolean"==typeof e?e:t})),G=p((()=>{const{data:t,active:n,checkable:a,disableCheckbox:l,disabled:r,selectable:i}=o;return e(e({active:n,checkable:a,disableCheckbox:l,disabled:r,selectable:i},t),{dataRef:t,data:t,isLeaf:B.value,checked:D.value,expanded:C.value,loading:M.value,selected:N.value,halfChecked:T.value})})),U=x(),$=p((()=>{const{eventKey:t}=o,{keyEntities:n}=u.value,{parent:a}=n[t]||{};return e(e({},Re(e({},o,E.value))),{parent:a})})),W=r({eventData:$,eventKey:p((()=>o.eventKey)),selectHandle:A,pos:I,key:U.vnode.key});c(W);const q=e=>{const{onNodeDoubleClick:t}=u.value;t(e,$.value)},J=e=>{if(z.value)return;const{disableCheckbox:t}=o,{onNodeCheck:n}=u.value;if(!V.value||t)return;e.preventDefault();const a=!D.value;n(e,$.value,a)},Q=e=>{const{onNodeClick:t}=u.value;t(e,$.value),_.value?(e=>{if(z.value)return;const{onNodeSelect:t}=u.value;e.preventDefault(),t(e,$.value)})(e):J(e)},Z=e=>{const{onNodeMouseEnter:t}=u.value;t(e,$.value)},ee=e=>{const{onNodeMouseLeave:t}=u.value;t(e,$.value)},te=e=>{const{onNodeContextMenu:t}=u.value;t(e,$.value)},ne=e=>{const{onNodeDragStart:t}=u.value;e.stopPropagation(),s.value=!0,t(e,W);try{e.dataTransfer.setData("text/plain","")}catch(n){}},oe=e=>{const{onNodeDragEnter:t}=u.value;e.preventDefault(),e.stopPropagation(),t(e,W)},ae=e=>{const{onNodeDragOver:t}=u.value;e.preventDefault(),e.stopPropagation(),t(e,W)},le=e=>{const{onNodeDragLeave:t}=u.value;e.stopPropagation(),t(e,W)},re=e=>{const{onNodeDragEnd:t}=u.value;e.stopPropagation(),s.value=!1,t(e,W)},ie=e=>{const{onNodeDrop:t}=u.value;e.preventDefault(),e.stopPropagation(),s.value=!1,t(e,W)},ce=e=>{const{onNodeExpand:t}=u.value;M.value||t(e,$.value)},se=()=>{const{draggable:e,prefixCls:n}=u.value;return e&&(null==e?void 0:e.icon)?t("span",{class:"".concat(n,"-draggable-icon")},[e.icon]):null},de=()=>{const{loadData:e,onNodeLoad:t}=u.value;M.value||e&&C.value&&!B.value&&(F.value||P.value||t($.value))};d((()=>{de()})),g((()=>{de()}));const ue=()=>{const{prefixCls:e}=u.value,a=(()=>{var e,t,n;const{switcherIcon:a=i.switcherIcon||(null===(e=u.value.slots)||void 0===e?void 0:e[null===(n=null===(t=o.data)||void 0===t?void 0:t.slots)||void 0===n?void 0:n.switcherIcon])}=o,{switcherIcon:l}=u.value,r=a||l;return"function"==typeof r?r(G.value):r})();if(B.value)return!1!==a?t("span",{class:n("".concat(e,"-switcher"),"".concat(e,"-switcher-noop"))},[a]):null;const l=n("".concat(e,"-switcher"),"".concat(e,"-switcher_").concat(C.value?we:Se));return!1!==a?t("span",{onClick:ce,class:l},[a]):null},ve=()=>{var e,a;const{disableCheckbox:l}=o,{prefixCls:r}=u.value,i=z.value;return V.value?t("span",{class:n("".concat(r,"-checkbox"),D.value&&"".concat(r,"-checkbox-checked"),!D.value&&T.value&&"".concat(r,"-checkbox-indeterminate"),(i||l)&&"".concat(r,"-checkbox-disabled")),onClick:J},[null===(a=(e=u.value).customCheckable)||void 0===a?void 0:a.call(e)]):null},he=()=>{const{prefixCls:e}=u.value;return t("span",{class:n("".concat(e,"-iconEle"),"".concat(e,"-icon__").concat(R.value||"docu"),M.value&&"".concat(e,"-icon_loading"))},null)},fe=()=>{const{disabled:e,eventKey:t}=o,{draggable:n,dropLevelOffset:a,dropPosition:l,prefixCls:r,indent:i,dropIndicatorRender:c,dragOverNodeKey:s,direction:d}=u.value;return!e&&!1!==n&&s===t?c({dropPosition:l,dropLevelOffset:a,indent:i,prefixCls:r,direction:d}):null},ge=()=>{var e,a,l,r,c,d;const{icon:v=i.icon,data:p}=o,h=i.title||(null===(e=u.value.slots)||void 0===e?void 0:e[null===(l=null===(a=o.data)||void 0===a?void 0:a.slots)||void 0===l?void 0:l.title])||(null===(r=u.value.slots)||void 0===r?void 0:r.title)||o.title,{prefixCls:f,showIcon:y,icon:g,loadData:b}=u.value,m=z.value,k="".concat(f,"-node-content-wrapper");let K,x;if(y){const e=v||(null===(c=u.value.slots)||void 0===c?void 0:c[null===(d=null==p?void 0:p.slots)||void 0===d?void 0:d.icon])||g;K=e?t("span",{class:n("".concat(f,"-iconEle"),"".concat(f,"-icon__customize"))},["function"==typeof e?e(G.value):e]):he()}else b&&M.value&&(K=he());x="function"==typeof h?h(G.value):h,x=void 0===x?"---":x;const w=t("span",{class:"".concat(f,"-title")},[x]);return t("span",{ref:A,title:"string"==typeof h?h:"",class:n("".concat(k),"".concat(k,"-").concat(R.value||"normal"),!m&&(N.value||s.value)&&"".concat(f,"-node-selected")),onMouseenter:Z,onMouseleave:ee,onContextmenu:te,onClick:Q,onDblclick:q},[K,w,fe()])};return()=>{const a=e(e({},o),l),{eventKey:r,isLeaf:i,isStart:c,isEnd:s,domRef:d,active:v,data:p,onMousemove:h,selectable:f}=a,y=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n}(a,["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"]),{prefixCls:g,filterTreeNode:b,keyEntities:k,dropContainerKey:K,dropTargetKey:x,draggingNodeKey:w}=u.value,S=z.value,O=X(y,{aria:!0,data:!0}),{level:E}=k[r]||{},P=s[s.length-1],I=(()=>{const{data:e}=o,{draggable:t}=u.value;return!(!t||t.nodeDraggable&&!t.nodeDraggable(e))})(),A=!S&&I,F=w===r,B=void 0!==f?{"aria-selected":!!f}:void 0;return t("div",m(m({ref:d,class:n(l.class,"".concat(g,"-treenode"),{["".concat(g,"-treenode-disabled")]:S,["".concat(g,"-treenode-switcher-").concat(C.value?"open":"close")]:!i,["".concat(g,"-treenode-checkbox-checked")]:D.value,["".concat(g,"-treenode-checkbox-indeterminate")]:T.value,["".concat(g,"-treenode-selected")]:N.value,["".concat(g,"-treenode-loading")]:M.value,["".concat(g,"-treenode-active")]:v,["".concat(g,"-treenode-leaf-last")]:P,["".concat(g,"-treenode-draggable")]:A,dragging:F,"drop-target":x===r,"drop-container":K===r,"drag-over":!S&&L.value,"drag-over-gap-top":!S&&j.value,"drag-over-gap-bottom":!S&&H.value,"filter-node":b&&b($.value)}),style:l.style,draggable:A,"aria-grabbed":F,onDragstart:A?ne:void 0,onDragenter:I?oe:void 0,onDragover:I?ae:void 0,onDragleave:I?le:void 0,onDrop:I?ie:void 0,onDragend:I?re:void 0,onMousemove:h},B),O),[t(me,{prefixCls:g,level:E,isStart:c,isEnd:s},null),se(),ue(),ve(),ge()])}}});function Ee(e,t){if(!e)return[];const n=e.slice(),o=n.indexOf(t);return o>=0&&n.splice(o,1),n}function Ce(e,t){const n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function Ne(e){return e.split("-")}function De(e,t){return"".concat(e,"-").concat(t)}function Pe(e){if(e.parent){const t=Ne(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function Me(e,t,n,o,a,l,r,i,c,s){var d;const{clientX:u,clientY:v}=e,{top:p,height:h}=e.target.getBoundingClientRect(),f=(("rtl"===s?-1:1)*(((null==a?void 0:a.x)||0)-u)-12)/o;let y=i[n.eventKey];if(v<p+h/2){const e=r.findIndex((e=>e.key===y.key)),t=r[e<=0?0:e-1].key;y=i[t]}const g=y.key,b=y,m=y.key;let k=0,K=0;if(!c.has(g))for(let O=0;O<f&&Pe(y);O+=1)y=y.parent,K+=1;const x=t.eventData,w=y.node;let S=!0;return function(e){const t=Ne(e.pos);return 0===Number(t[t.length-1])}(y)&&0===y.level&&v<p+h/2&&l({dragNode:x,dropNode:w,dropPosition:-1})&&y.key===n.eventKey?k=-1:(b.children||[]).length&&c.has(m)?l({dragNode:x,dropNode:w,dropPosition:0})?k=0:S=!1:0===K?f>-1.5?l({dragNode:x,dropNode:w,dropPosition:1})?k=1:S=!1:l({dragNode:x,dropNode:w,dropPosition:0})?k=0:l({dragNode:x,dropNode:w,dropPosition:1})?k=1:S=!1:l({dragNode:x,dropNode:w,dropPosition:1})?k=1:S=!1,{dropPosition:k,dropLevelOffset:K,dropTargetKey:y.key,dropTargetPos:y.pos,dragOverNodeKey:m,dropContainerKey:0===k?null:(null===(d=y.parent)||void 0===d?void 0:d.key)||null,dropAllowed:S}}function Te(e,t){if(!e)return;const{multiple:n}=t;return n?e.slice():e.length?[e[0]]:e}function Le(e){if(!e)return null;let t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!=typeof e)return null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}function je(e,t){const n=new Set;function o(e){if(n.has(e))return;const a=t[e];if(!a)return;n.add(e);const{parent:l,node:r}=a;r.disabled||l&&o(l.key)}return(e||[]).forEach((e=>{o(e)})),[...n]}function He(e,t){return null!=e?e:t}function Ie(e){const{title:t,_title:n,key:o,children:a}=e||{},l=t||"title";return{title:l,_title:n||[l],key:o||"key",children:a||"children"}}function Ae(t){return function t(){return w(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((n=>{var o,a,l,r;if(!function(e){return e&&e.type&&e.type.isTreeNode}(n))return null;const i=n.children||{},c=n.key,s={};for(const[e,t]of Object.entries(n.props))s[S(e)]=t;const{isLeaf:d,checkable:u,selectable:v,disabled:p,disableCheckbox:h}=s,f={isLeaf:d||""===d||void 0,checkable:u||""===u||void 0,selectable:v||""===v||void 0,disabled:p||""===p||void 0,disableCheckbox:h||""===h||void 0},y=e(e({},s),f),{title:g=(null===(o=i.title)||void 0===o?void 0:o.call(i,y)),icon:b=(null===(a=i.icon)||void 0===a?void 0:a.call(i,y)),switcherIcon:m=(null===(l=i.switcherIcon)||void 0===l?void 0:l.call(i,y))}=s,k=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n}(s,["title","icon","switcherIcon"]),K=null===(r=i.default)||void 0===r?void 0:r.call(i),x=e(e(e({},k),{title:g,icon:b,switcherIcon:m,key:c,isLeaf:d}),f),w=t(K);return w.length&&(x.children=w),x}))}(t)}function Fe(e){let{initWrapper:t,processEntity:n,onProcessFinished:o,externalGetKey:a,childrenPropName:l,fieldNames:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=a||(arguments.length>2?arguments[2]:void 0),c={},s={};let d={posEntities:c,keyEntities:s};return t&&(d=t(d)||d),function(e,t,n){let o={};o="object"==typeof n?n:{externalGetKey:n},o=o||{};const{childrenPropName:a,externalGetKey:l,fieldNames:r}=o,{key:i,children:c}=Ie(r),s=a||c;let d;l?"string"==typeof l?d=e=>e[l]:"function"==typeof l&&(d=e=>l(e)):d=(e,t)=>He(e[i],t),function n(o,a,l,r){const i=o?o[s]:e,c=o?De(l.pos,a):"0",u=o?[...r,o]:[];if(o){const e=d(o,c),n={node:o,index:a,pos:c,key:e,parentPos:l.node?l.pos:null,level:l.level+1,nodes:u};t(n)}i&&i.forEach(((e,t)=>{n(e,t,{node:o,pos:c,level:l?l.level+1:-1},u)}))}(null)}(e,(e=>{const{node:t,index:o,pos:a,key:l,parentPos:r,level:i,nodes:u}=e,v={node:t,nodes:u,index:o,key:l,pos:a,level:i},p=He(l,a);c[a]=v,s[p]=v,v.parent=c[r],v.parent&&(v.parent.children=v.parent.children||[],v.parent.children.push(v)),n&&n(v,d)}),{externalGetKey:i,childrenPropName:l,fieldNames:r}),o&&o(d),d}function Be(e,t){let{expandedKeysSet:n,selectedKeysSet:o,loadedKeysSet:a,loadingKeysSet:l,checkedKeysSet:r,halfCheckedKeysSet:i,dragOverNodeKey:c,dropPosition:s,keyEntities:d}=t;const u=d[e];return{eventKey:e,expanded:n.has(e),selected:o.has(e),loaded:a.has(e),loading:l.has(e),checked:r.has(e),halfChecked:i.has(e),pos:String(u?u.pos:""),parent:u.parent,dragOver:c===e&&0===s,dragOverGapTop:c===e&&-1===s,dragOverGapBottom:c===e&&1===s}}function Re(t){const{data:n,expanded:o,selected:a,checked:l,loaded:r,loading:i,halfChecked:c,dragOver:s,dragOverGapTop:d,dragOverGapBottom:u,pos:v,active:p,eventKey:h}=t,f=e(e({dataRef:n},n),{expanded:o,selected:a,checked:l,loaded:r,loading:i,halfChecked:c,dragOver:s,dragOverGapTop:d,dragOverGapBottom:u,pos:v,active:p,eventKey:h,key:h});return"props"in f||Object.defineProperty(f,"props",{get:()=>t}),f}function ze(e,t){const n=new Set;return e.forEach((e=>{t.has(e)||n.add(e)})),n}function Ve(e){const{disabled:t,disableCheckbox:n,checkable:o}=e||{};return!(!t&&!n)||!1===o}function _e(e,t,n,o,a,l){let r;r=l||Ve;const i=new Set(e.filter((e=>!!n[e])));let c;return c=!0===t?function(e,t,n,o){const a=new Set(e),l=new Set;for(let i=0;i<=n;i+=1)(t.get(i)||new Set).forEach((e=>{const{key:t,node:n,children:l=[]}=e;a.has(t)&&!o(n)&&l.filter((e=>!o(e.node))).forEach((e=>{a.add(e.key)}))}));const r=new Set;for(let i=n;i>=0;i-=1)(t.get(i)||new Set).forEach((e=>{const{parent:t,node:n}=e;if(o(n)||!e.parent||r.has(e.parent.key))return;if(o(e.parent.node))return void r.add(t.key);let i=!0,c=!1;(t.children||[]).filter((e=>!o(e.node))).forEach((e=>{let{key:t}=e;const n=a.has(t);i&&!n&&(i=!1),c||!n&&!l.has(t)||(c=!0)})),i&&a.add(t.key),c&&l.add(t.key),r.add(t.key)}));return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(ze(l,a))}}(i,a,o,r):function(e,t,n,o,a){const l=new Set(e);let r=new Set(t);for(let c=0;c<=o;c+=1)(n.get(c)||new Set).forEach((e=>{const{key:t,node:n,children:o=[]}=e;l.has(t)||r.has(t)||a(n)||o.filter((e=>!a(e.node))).forEach((e=>{l.delete(e.key)}))}));r=new Set;const i=new Set;for(let c=o;c>=0;c-=1)(n.get(c)||new Set).forEach((e=>{const{parent:t,node:n}=e;if(a(n)||!e.parent||i.has(e.parent.key))return;if(a(e.parent.node))return void i.add(t.key);let o=!0,c=!1;(t.children||[]).filter((e=>!a(e.node))).forEach((e=>{let{key:t}=e;const n=l.has(t);o&&!n&&(o=!1),c||!n&&!r.has(t)||(c=!0)})),o||l.delete(t.key),c&&r.add(t.key),i.add(t.key)}));return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(ze(r,l))}}(i,t.halfCheckedKeys,a,o,r),c}function Ye(e){const t=i(0),n=h();return b((()=>{const o=new Map;let a=0;const l=e.value||{};for(const e in l)if(Object.prototype.hasOwnProperty.call(l,e)){const t=l[e],{level:n}=t;let r=o.get(n);r||(r=new Set,o.set(n,r)),r.add(t),a=Math.max(a,n)}t.value=a,n.value=o})),{maxLevel:t,levelEntities:n}}var Ge=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n};const Ue=l({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:e(e({},ke),{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),setup(e,n){let{attrs:o,slots:a}=n;const l=h(!0),r=ye(),i=h(!1),s=p((()=>e.motion?e.motion:Q())),v=(t,n)=>{var o,a,l,r;"appear"===n?null===(a=null===(o=s.value)||void 0===o?void 0:o.onAfterEnter)||void 0===a||a.call(o,t):"leave"===n&&(null===(r=null===(l=s.value)||void 0===l?void 0:l.onAfterLeave)||void 0===r||r.call(l,t)),i.value||e.onMotionEnd(),i.value=!0};return c((()=>e.motionNodes),(()=>{e.motionNodes&&"hide"===e.motionType&&l.value&&y((()=>{l.value=!1}))}),{immediate:!0,flush:"post"}),d((()=>{e.motionNodes&&e.onMotionStart()})),u((()=>{e.motionNodes&&v()})),()=>{const{motion:n,motionNodes:i,motionType:c,active:d,eventKey:u}=e,p=Ge(e,["motion","motionNodes","motionType","active","eventKey"]);return i?t(C,m(m({},s.value),{},{appear:"show"===c,onAfterAppear:e=>v(e,"appear"),onAfterLeave:e=>v(e,"leave")}),{default:()=>[O(t("div",{class:"".concat(r.value.prefixCls,"-treenode-motion")},[i.map((e=>{const n=Ge(e.data,[]),{title:o,key:l,isStart:r,isEnd:i}=e;return delete n.children,t(Oe,m(m({},n),{},{title:o,active:d,data:e.data,key:l,eventKey:l,isStart:r,isEnd:i}),a)}))]),[[E,l.value]])]}):t(Oe,m(m({class:o.class,style:o.style},p),{},{active:d,eventKey:u}),a)}}});function $e(e,t,n){const o=e.findIndex((e=>e.key===n)),a=e[o+1],l=t.findIndex((e=>e.key===n));if(a){const e=t.findIndex((e=>e.key===a.key));return t.slice(l+1,e)}return t.slice(l+1)}var We=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n};const qe={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Xe=()=>{},Je="RC_TREE_MOTION_".concat(Math.random()),Qe={key:Je},Ze={key:Je,level:0,index:0,pos:"0",node:Qe,nodes:[Qe]},et={parent:null,children:[],pos:Ze.pos,data:Qe,title:null,key:Je,isStart:[],isEnd:[]};function tt(e,t,n,o){return!1!==t&&n?e.slice(0,Math.ceil(n/o)+1):e}function nt(e){const{key:t,pos:n}=e;return He(t,n)}function ot(e){let t=String(e.key),n=e;for(;n.parent;)n=n.parent,t="".concat(n.key," > ").concat(t);return t}const at=l({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:Ke,setup(n,o){let{expose:a,attrs:l}=o;const r=i(),s=i(),{expandedKeys:d,flattenNodes:u}=be();a({scrollTo:e=>{r.value.scrollTo(e)},getIndentWidth:()=>s.value.offsetWidth});const v=h(u.value),f=h([]),y=i(null);function g(){v.value=u.value,f.value=[],y.value=null,n.onListChangeEnd()}const b=ye();c([()=>d.value.slice(),u],((e,t)=>{let[o,a]=e,[l,r]=t;const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=e.length,o=t.length;if(1!==Math.abs(n-o))return{add:!1,key:null};function a(e,t){const n=new Map;e.forEach((e=>{n.set(e,!0)}));const o=t.filter((e=>!n.has(e)));return 1===o.length?o[0]:null}return n<o?{add:!0,key:a(e,t)}:{add:!1,key:a(t,e)}}(l,o);if(null!==i.key){const{virtual:e,height:t,itemHeight:o}=n;if(i.add){const n=r.findIndex((e=>{let{key:t}=e;return t===i.key})),l=tt($e(r,a,i.key),e,t,o),c=r.slice();c.splice(n+1,0,et),v.value=c,f.value=l,y.value="show"}else{const n=a.findIndex((e=>{let{key:t}=e;return t===i.key})),l=tt($e(a,r,i.key),e,t,o),c=a.slice();c.splice(n+1,0,et),v.value=c,f.value=l,y.value="hide"}}else r!==a&&(v.value=a)})),c((()=>b.value.dragging),(e=>{e||g()}));const k=p((()=>void 0===n.motion?v.value:u.value)),K=()=>{n.onActiveChange(null)};return()=>{const o=e(e({},n),l),{prefixCls:a,selectable:i,checkable:c,disabled:d,motion:u,height:v,itemHeight:p,virtual:h,focusable:b,activeItem:x,focused:w,tabindex:S,onKeydown:O,onFocus:E,onBlur:C,onListChangeStart:D,onListChangeEnd:P}=o,M=We(o,["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"]);return t(N,null,[w&&x&&t("span",{style:qe,"aria-live":"assertive"},[ot(x)]),t("div",null,[t("input",{style:qe,disabled:!1===b||d,tabindex:!1!==b?S:null,onKeydown:O,onFocus:E,onBlur:C,value:"",onChange:Xe,"aria-label":"for screen reader"},null)]),t("div",{class:"".concat(a,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[t("div",{class:"".concat(a,"-indent")},[t("div",{ref:s,class:"".concat(a,"-indent-unit")},null)])]),t(ve,m(m({},G(M,["onActiveChange"])),{},{data:k.value,itemKey:nt,height:v,fullHeight:!1,virtual:h,itemHeight:p,prefixCls:"".concat(a,"-list"),ref:r,onVisibleChange:(e,t)=>{const n=new Set(e);t.filter((e=>!n.has(e))).some((e=>nt(e)===Je))&&g()}}),{default:e=>{const{pos:n}=e,o=We(e.data,[]),{title:a,key:l,isStart:r,isEnd:i}=e,c=He(l,n);return delete o.key,delete o.children,t(Ue,m(m({},o),{},{eventKey:c,title:a,active:!!x&&l===x.key,data:e.data,isStart:r,isEnd:i,motion:u,motionNodes:l===Je?f.value:null,motionType:y.value,onMotionStart:D,onMotionEnd:g,onMousemove:K}),null)}})])}}});const lt=l({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,props:U(xe(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,expandAction:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){let{dropPosition:n,dropLevelOffset:o,indent:a}=e;const l={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"".concat(2,"px")};switch(n){case-1:l.top=0,l.left="".concat(-o*a,"px");break;case 1:l.bottom=0,l.left="".concat(-o*a,"px");break;case 0:l.bottom=0,l.left="".concat(a)}return t("div",{style:l},null)},allowDrop:()=>!0}),setup(o,a){let{attrs:l,slots:i,expose:d}=a;const u=h(!1);let v={};const g=h(),K=h([]),x=h([]),w=h([]),S=h([]),O=h([]),E=h([]),C={},N=r({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),D=h([]);c([()=>o.treeData,()=>o.children],(()=>{D.value=void 0!==o.treeData?o.treeData.slice():Ae(f(o.children))}),{immediate:!0,deep:!0});const P=h({}),M=h(!1),T=h(null),L=h(!1),j=p((()=>Ie(o.fieldNames))),H=h();let I=null,A=null,F=null;const B=p((()=>({expandedKeysSet:R.value,selectedKeysSet:z.value,loadedKeysSet:V.value,loadingKeysSet:_.value,checkedKeysSet:Y.value,halfCheckedKeysSet:U.value,dragOverNodeKey:N.dragOverNodeKey,dropPosition:N.dropPosition,keyEntities:P.value}))),R=p((()=>new Set(E.value))),z=p((()=>new Set(K.value))),V=p((()=>new Set(S.value))),_=p((()=>new Set(O.value))),Y=p((()=>new Set(x.value))),U=p((()=>new Set(w.value)));b((()=>{if(D.value){const t=Fe(D.value,{fieldNames:j.value});P.value=e({[Je]:Ze},t.keyEntities)}}));let $=!1;c([()=>o.expandedKeys,()=>o.autoExpandParent,P],((t,n)=>{let[a,l]=t,[r,i]=n,c=E.value;if(void 0!==o.expandedKeys||$&&l!==i)c=o.autoExpandParent||!$&&o.defaultExpandParent?je(o.expandedKeys,P.value):o.expandedKeys;else if(!$&&o.defaultExpandAll){const t=e({},P.value);delete t[Je],c=Object.keys(t).map((e=>t[e].key))}else!$&&o.defaultExpandedKeys&&(c=o.autoExpandParent||o.defaultExpandParent?je(o.defaultExpandedKeys,P.value):o.defaultExpandedKeys);c&&(E.value=c),$=!0}),{immediate:!0});const W=h([]);b((()=>{W.value=function(t,n,o){const{_title:a,key:l,children:r}=Ie(o),i=new Set(!0===n?[]:n),c=[];return function t(o){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return o.map(((d,u)=>{const v=De(s?s.pos:"0",u),p=He(d[l],v);let h;for(let e=0;e<a.length;e+=1){const t=a[e];if(void 0!==d[t]){h=d[t];break}}const f=e(e({},G(d,[...a,l,r])),{title:h,key:p,parent:s,pos:v,children:null,data:d,isStart:[...s?s.isStart:[],0===u],isEnd:[...s?s.isEnd:[],u===o.length-1]});return c.push(f),!0===n||i.has(p)?f.children=t(d[r]||[],f):f.children=[],f}))}(t),c}(D.value,E.value,j.value)})),b((()=>{o.selectable&&(void 0!==o.selectedKeys?K.value=Te(o.selectedKeys,o):!$&&o.defaultSelectedKeys&&(K.value=Te(o.defaultSelectedKeys,o)))}));const{maxLevel:q,levelEntities:J}=Ye(P);b((()=>{if(o.checkable){let e;if(void 0!==o.checkedKeys?e=Le(o.checkedKeys)||{}:!$&&o.defaultCheckedKeys?e=Le(o.defaultCheckedKeys)||{}:D.value&&(e=Le(o.checkedKeys)||{checkedKeys:x.value,halfCheckedKeys:w.value}),e){let{checkedKeys:t=[],halfCheckedKeys:n=[]}=e;if(!o.checkStrictly){const e=_e(t,!0,P.value,q.value,J.value);({checkedKeys:t,halfCheckedKeys:n}=e)}x.value=t,w.value=n}}})),b((()=>{o.loadedKeys&&(S.value=o.loadedKeys)}));const Q=()=>{e(N,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},Z=e=>{H.value.scrollTo(e)};c((()=>o.activeKey),(()=>{void 0!==o.activeKey&&(T.value=o.activeKey)}),{immediate:!0}),c(T,(e=>{y((()=>{null!==e&&Z({key:e})}))}),{immediate:!0,flush:"post"});const te=e=>{void 0===o.expandedKeys&&(E.value=e)},ne=()=>{null!==N.draggingNodeKey&&e(N,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),I=null,F=null},oe=(e,t)=>{const{onDragend:n}=o;N.dragOverNodeKey=null,ne(),null==n||n({event:e,node:t.eventData}),A=null},ae=e=>{oe(e,null),window.removeEventListener("dragend",ae)},le=(e,t)=>{const{onDragstart:n}=o,{eventKey:a,eventData:l}=t;A=t,I={x:e.clientX,y:e.clientY};const r=Ee(E.value,a);N.draggingNodeKey=a,N.dragChildrenKeys=function(e,t){const n=[];return function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((t=>{let{key:o,children:a}=t;n.push(o),e(a)}))}(t[e].children),n}(a,P.value),g.value=H.value.getIndentWidth(),te(r),window.addEventListener("dragend",ae),n&&n({event:e,node:l})},re=(t,n)=>{const{onDragenter:a,onExpand:l,allowDrop:r,direction:i}=o,{pos:c,eventKey:s}=n;if(F!==s&&(F=s),!A)return void Q();const{dropPosition:d,dropLevelOffset:u,dropTargetKey:p,dropContainerKey:h,dropTargetPos:f,dropAllowed:y,dragOverNodeKey:b}=Me(t,A,n,g.value,I,r,W.value,P.value,R.value,i);-1===N.dragChildrenKeys.indexOf(p)&&y?(v||(v={}),Object.keys(v).forEach((e=>{clearTimeout(v[e])})),A.eventKey!==n.eventKey&&(v[c]=window.setTimeout((()=>{if(null===N.draggingNodeKey)return;let e=E.value.slice();const o=P.value[n.eventKey];o&&(o.children||[]).length&&(e=Ce(E.value,n.eventKey)),te(e),l&&l(e,{node:n.eventData,expanded:!0,nativeEvent:t})}),800)),A.eventKey!==p||0!==u?(e(N,{dragOverNodeKey:b,dropPosition:d,dropLevelOffset:u,dropTargetKey:p,dropContainerKey:h,dropTargetPos:f,dropAllowed:y}),a&&a({event:t,node:n.eventData,expandedKeys:E.value})):Q()):Q()},ie=(t,n)=>{const{onDragover:a,allowDrop:l,direction:r}=o;if(!A)return;const{dropPosition:i,dropLevelOffset:c,dropTargetKey:s,dropContainerKey:d,dropAllowed:u,dropTargetPos:v,dragOverNodeKey:p}=Me(t,A,n,g.value,I,l,W.value,P.value,R.value,r);-1===N.dragChildrenKeys.indexOf(s)&&u&&(A.eventKey===s&&0===c?null===N.dropPosition&&null===N.dropLevelOffset&&null===N.dropTargetKey&&null===N.dropContainerKey&&null===N.dropTargetPos&&!1===N.dropAllowed&&null===N.dragOverNodeKey||Q():i===N.dropPosition&&c===N.dropLevelOffset&&s===N.dropTargetKey&&d===N.dropContainerKey&&v===N.dropTargetPos&&u===N.dropAllowed&&p===N.dragOverNodeKey||e(N,{dropPosition:i,dropLevelOffset:c,dropTargetKey:s,dropContainerKey:d,dropTargetPos:v,dropAllowed:u,dragOverNodeKey:p}),a&&a({event:t,node:n.eventData}))},ce=(e,t)=>{F!==t.eventKey||e.currentTarget.contains(e.relatedTarget)||(Q(),F=null);const{onDragleave:n}=o;n&&n({event:e,node:t.eventData})},se=function(t,n){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var l;const{dragChildrenKeys:r,dropPosition:i,dropTargetKey:c,dropTargetPos:s,dropAllowed:d}=N;if(!d)return;const{onDrop:u}=o;if(N.dragOverNodeKey=null,ne(),null===c)return;const v=e(e({},Be(c,f(B.value))),{active:(null===(l=ze.value)||void 0===l?void 0:l.key)===c,data:P.value[c].node});r.indexOf(c);const p=Ne(s),h={event:t,node:Re(v),dragNode:A?A.eventData:null,dragNodesKeys:[A.eventKey].concat(r),dropToGap:0!==i,dropPosition:i+Number(p[p.length-1])};a||null==u||u(h),A=null},de=(t,n)=>{const{expanded:o,key:a}=n,l=W.value.filter((e=>e.key===a))[0],r=Re(e(e({},Be(a,B.value)),{data:l.data}));te(o?Ee(E.value,a):Ce(E.value,a)),we(t,r)},ue=(e,t)=>{const{onClick:n,expandAction:a}=o;"click"===a&&de(e,t),n&&n(e,t)},ve=(e,t)=>{const{onDblclick:n,expandAction:a}=o;"doubleclick"!==a&&"dblclick"!==a||de(e,t),n&&n(e,t)},pe=(e,t)=>{let n=K.value;const{onSelect:a,multiple:l}=o,{selected:r}=t,i=t[j.value.key],c=!r;n=c?l?Ce(n,i):[i]:Ee(n,i);const s=P.value,d=n.map((e=>{const t=s[e];return t?t.node:null})).filter((e=>e));void 0===o.selectedKeys&&(K.value=n),a&&a(n,{event:"select",selected:c,node:t,selectedNodes:d,nativeEvent:e})},he=(e,t,n)=>{const{checkStrictly:a,onCheck:l}=o,r=t[j.value.key];let i;const c={event:"check",node:t,checked:n,nativeEvent:e},s=P.value;if(a){const e=n?Ce(x.value,r):Ee(x.value,r);i={checked:e,halfChecked:Ee(w.value,r)},c.checkedNodes=e.map((e=>s[e])).filter((e=>e)).map((e=>e.node)),void 0===o.checkedKeys&&(x.value=e)}else{let{checkedKeys:e,halfCheckedKeys:t}=_e([...x.value,r],!0,s,q.value,J.value);if(!n){const n=new Set(e);n.delete(r),({checkedKeys:e,halfCheckedKeys:t}=_e(Array.from(n),{checked:!1,halfCheckedKeys:t},s,q.value,J.value))}i=e,c.checkedNodes=[],c.checkedNodesPositions=[],c.halfCheckedKeys=t,e.forEach((e=>{const t=s[e];if(!t)return;const{node:n,pos:o}=t;c.checkedNodes.push(n),c.checkedNodesPositions.push({node:n,pos:o})})),void 0===o.checkedKeys&&(x.value=e,w.value=t)}l&&l(i,c)},ye=e=>{const t=e[j.value.key],n=new Promise(((n,a)=>{const{loadData:l,onLoad:r}=o;if(!l||V.value.has(t)||_.value.has(t))return null;l(e).then((()=>{const a=Ce(S.value,t),l=Ee(O.value,t);r&&r(a,{event:"load",node:e}),void 0===o.loadedKeys&&(S.value=a),O.value=l,n()})).catch((e=>{const l=Ee(O.value,t);if(O.value=l,C[t]=(C[t]||0)+1,C[t]>=10){const e=Ce(S.value,t);void 0===o.loadedKeys&&(S.value=e),n()}a(e)})),O.value=Ce(O.value,t)}));return n.catch((()=>{})),n},be=(e,t)=>{const{onMouseenter:n}=o;n&&n({event:e,node:t})},me=(e,t)=>{const{onMouseleave:n}=o;n&&n({event:e,node:t})},ke=(e,t)=>{const{onRightClick:n}=o;n&&(e.preventDefault(),n({event:e,node:t}))},Ke=e=>{const{onFocus:t}=o;M.value=!0,t&&t(e)},xe=e=>{const{onBlur:t}=o;M.value=!1,Pe(null),t&&t(e)},we=(e,t)=>{let n=E.value;const{onExpand:a,loadData:l}=o,{expanded:r}=t,i=t[j.value.key];if(L.value)return;n.indexOf(i);const c=!r;if(n=c?Ce(n,i):Ee(n,i),te(n),a&&a(n,{node:t,expanded:c,nativeEvent:e}),c&&l){const e=ye(t);e&&e.then((()=>{})).catch((e=>{const t=Ee(E.value,i);te(t),Promise.reject(e)}))}},Se=()=>{L.value=!0},Oe=()=>{setTimeout((()=>{L.value=!1}))},Pe=e=>{const{onActiveChange:t}=o;T.value!==e&&(void 0!==o.activeKey&&(T.value=e),null!==e&&Z({key:e}),t&&t(e))},ze=p((()=>null===T.value?null:W.value.find((e=>{let{key:t}=e;return t===T.value}))||null)),Ve=e=>{let t=W.value.findIndex((e=>{let{key:t}=e;return t===T.value}));-1===t&&e<0&&(t=W.value.length),t=(t+e+W.value.length)%W.value.length;const n=W.value[t];if(n){const{key:e}=n;Pe(e)}else Pe(null)},Ge=p((()=>Re(e(e({},Be(T.value,B.value)),{data:ze.value.data,active:!0})))),Ue=e=>{const{onKeydown:t,checkable:n,selectable:a}=o;switch(e.which){case ee.UP:Ve(-1),e.preventDefault();break;case ee.DOWN:Ve(1),e.preventDefault()}const l=ze.value;if(l&&l.data){const t=!1===l.data.isLeaf||!!(l.data.children||[]).length,o=Ge.value;switch(e.which){case ee.LEFT:t&&R.value.has(T.value)?we({},o):l.parent&&Pe(l.parent.key),e.preventDefault();break;case ee.RIGHT:t&&!R.value.has(T.value)?we({},o):l.children&&l.children.length&&Pe(l.children[0].key),e.preventDefault();break;case ee.ENTER:case ee.SPACE:!n||o.disabled||!1===o.checkable||o.disableCheckbox?n||!a||o.disabled||!1===o.selectable||pe({},o):he({},o,!Y.value.has(T.value))}}t&&t(e)};return d({onNodeExpand:we,scrollTo:Z,onKeydown:Ue,selectedKeys:p((()=>K.value)),checkedKeys:p((()=>x.value)),halfCheckedKeys:p((()=>w.value)),loadedKeys:p((()=>S.value)),loadingKeys:p((()=>O.value)),expandedKeys:p((()=>E.value))}),s((()=>{window.removeEventListener("dragend",ae),u.value=!0})),k(ge,{expandedKeys:E,selectedKeys:K,loadedKeys:S,loadingKeys:O,checkedKeys:x,halfCheckedKeys:w,expandedKeysSet:R,selectedKeysSet:z,loadedKeysSet:V,loadingKeysSet:_,checkedKeysSet:Y,halfCheckedKeysSet:U,flattenNodes:W}),()=>{const{draggingNodeKey:a,dropLevelOffset:r,dropContainerKey:c,dropTargetKey:s,dropPosition:d,dragOverNodeKey:u}=N,{prefixCls:v,showLine:p,focusable:h,tabindex:f=0,selectable:y,showIcon:b,icon:k=i.icon,switcherIcon:K,draggable:x,checkable:w,checkStrictly:S,disabled:O,motion:E,loadData:C,filterTreeNode:D,height:L,itemHeight:j,virtual:I,dropIndicatorRender:A,onContextmenu:F,onScroll:B,direction:R,rootClassName:z,rootStyle:V}=o,{class:_,style:Y}=l,G=X(e(e({},o),l),{aria:!0,data:!0});let U;return U=!!x&&("object"==typeof x?x:"function"==typeof x?{nodeDraggable:x}:{}),t(fe,{value:{prefixCls:v,selectable:y,showIcon:b,icon:k,switcherIcon:K,draggable:U,draggingNodeKey:a,checkable:w,customCheckable:i.checkable,checkStrictly:S,disabled:O,keyEntities:P.value,dropLevelOffset:r,dropContainerKey:c,dropTargetKey:s,dropPosition:d,dragOverNodeKey:u,dragging:null!==a,indent:g.value,direction:R,dropIndicatorRender:A,loadData:C,filterTreeNode:D,onNodeClick:ue,onNodeDoubleClick:ve,onNodeExpand:we,onNodeSelect:pe,onNodeCheck:he,onNodeLoad:ye,onNodeMouseEnter:be,onNodeMouseLeave:me,onNodeContextMenu:ke,onNodeDragStart:le,onNodeDragEnter:re,onNodeDragOver:ie,onNodeDragLeave:ce,onNodeDragEnd:oe,onNodeDrop:se,slots:i}},{default:()=>[t("div",{role:"tree",class:n(v,_,z,{["".concat(v,"-show-line")]:p,["".concat(v,"-focused")]:M.value,["".concat(v,"-active-focused")]:null!==T.value}),style:V},[t(at,m({ref:H,prefixCls:v,style:Y,disabled:O,selectable:y,checkable:!!w,motion:E,height:L,itemHeight:j,virtual:I,focusable:h,focused:M.value,tabindex:f,activeItem:ze.value,onFocus:Ke,onBlur:xe,onKeydown:Ue,onActiveChange:Pe,onListChangeStart:Se,onListChangeEnd:Oe,onContextmenu:F,onScroll:B},G),null)])]})}}});var rt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){ct(e,t,n[t])}))}return e}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st=function(e,n){var o=it({},e,n.attrs);return t(D,it({},o,{icon:rt}),null)};st.displayName="FileOutlined",st.inheritAttrs=!1;var dt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){vt(e,t,n[t])}))}return e}function vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pt=function(e,n){var o=ut({},e,n.attrs);return t(D,ut({},o,{icon:dt}),null)};pt.displayName="MinusSquareOutlined",pt.inheritAttrs=!1;var ht={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){yt(e,t,n[t])}))}return e}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gt=function(e,n){var o=ft({},e,n.attrs);return t(D,ft({},o,{icon:ht}),null)};gt.displayName="PlusSquareOutlined",gt.inheritAttrs=!1;var bt={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){kt(e,t,n[t])}))}return e}function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kt=function(e,n){var o=mt({},e,n.attrs);return t(D,mt({},o,{icon:bt}),null)};Kt.displayName="CaretDownFilled",Kt.inheritAttrs=!1;function xt(e){const{dropPosition:n,dropLevelOffset:o,prefixCls:a,indent:l,direction:r="ltr"}=e,i="ltr"===r?"left":"right",c="ltr"===r?"right":"left",s={[i]:"".concat(-o*l+4,"px"),[c]:0};switch(n){case-1:s.top="".concat(-3,"px");break;case 1:s.bottom="".concat(-3,"px");break;default:s.bottom="".concat(-3,"px"),s[i]="".concat(l+4,"px")}return t("div",{style:s,class:"".concat(a,"-drop-indicator")},null)}const wt=new I("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),St=(e,t)=>({[".".concat(e,"-switcher-icon")]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:"transform ".concat(t.motionDurationSlow)}}}),Ot=(e,t)=>({[".".concat(e,"-drop-indicator")]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:"".concat(t.lineWidthBold,"px solid ").concat(t.colorPrimary),borderRadius:"50%",content:'""'}}}),Et=(t,n)=>{const{treeCls:o,treeNodeCls:a,treeNodePadding:l,treeTitleHeight:r}=n,i=(r-n.fontSizeLG)/2,c=n.paddingXS;return{[o]:e(e({},j(n)),{background:n.colorBgContainer,borderRadius:n.borderRadius,transition:"background-color ".concat(n.motionDurationSlow),["&".concat(o,"-rtl")]:{["".concat(o,"-switcher")]:{"&_close":{["".concat(o,"-switcher-icon")]:{svg:{transform:"rotate(90deg)"}}}}},["&-focused:not(:hover):not(".concat(o,"-active-focused)")]:e({},H(n)),["".concat(o,"-list-holder-inner")]:{alignItems:"flex-start"},["&".concat(o,"-block-node")]:{["".concat(o,"-list-holder-inner")]:{alignItems:"stretch",["".concat(o,"-node-content-wrapper")]:{flex:"auto"},["".concat(a,".dragging")]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:l,insetInlineStart:0,border:"1px solid ".concat(n.colorPrimary),opacity:0,animationName:wt,animationDuration:n.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},["".concat(a)]:{display:"flex",alignItems:"flex-start",padding:"0 0 ".concat(l,"px 0"),outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{["".concat(o,"-node-content-wrapper")]:{color:n.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},["&-active ".concat(o,"-node-content-wrapper")]:e({},H(n)),["&:not(".concat(a,"-disabled).filter-node ").concat(o,"-title")]:{color:"inherit",fontWeight:500},"&-draggable":{["".concat(o,"-draggable-icon")]:{width:r,lineHeight:"".concat(r,"px"),textAlign:"center",visibility:"visible",opacity:.2,transition:"opacity ".concat(n.motionDurationSlow),["".concat(a,":hover &")]:{opacity:.45}},["&".concat(a,"-disabled")]:{["".concat(o,"-draggable-icon")]:{visibility:"hidden"}}}},["".concat(o,"-indent")]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:r}},["".concat(o,"-draggable-icon")]:{visibility:"hidden"},["".concat(o,"-switcher")]:e(e({},St(t,n)),{position:"relative",flex:"none",alignSelf:"stretch",width:r,margin:0,lineHeight:"".concat(r,"px"),textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{["".concat(o,"-switcher-icon")]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:n.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:r/2,bottom:-l,marginInlineStart:-1,borderInlineEnd:"1px solid ".concat(n.colorBorder),content:'""'},"&:after":{position:"absolute",width:r/2*.8,height:r/2,borderBottom:"1px solid ".concat(n.colorBorder),content:'""'}}}),["".concat(o,"-checkbox")]:{top:"initial",marginInlineEnd:c,marginBlockStart:i},["".concat(o,"-node-content-wrapper, ").concat(o,"-checkbox + span")]:{position:"relative",zIndex:"auto",minHeight:r,margin:0,padding:"0 ".concat(n.paddingXS/2,"px"),color:"inherit",lineHeight:"".concat(r,"px"),background:"transparent",borderRadius:n.borderRadius,cursor:"pointer",transition:"all ".concat(n.motionDurationMid,", border 0s, line-height 0s, box-shadow 0s"),"&:hover":{backgroundColor:n.controlItemBgHover},["&".concat(o,"-node-selected")]:{backgroundColor:n.controlItemBgActive},["".concat(o,"-iconEle")]:{display:"inline-block",width:r,height:r,lineHeight:"".concat(r,"px"),textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},["".concat(o,"-unselectable ").concat(o,"-node-content-wrapper:hover")]:{backgroundColor:"transparent"},["".concat(o,"-node-content-wrapper")]:e({lineHeight:"".concat(r,"px"),userSelect:"none"},Ot(t,n)),["".concat(a,".drop-container")]:{"> [draggable]":{boxShadow:"0 0 0 2px ".concat(n.colorPrimary)}},"&-show-line":{["".concat(o,"-indent")]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:r/2,bottom:-l,borderInlineEnd:"1px solid ".concat(n.colorBorder),content:'""'},"&-end":{"&:before":{display:"none"}}}},["".concat(o,"-switcher")]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},["".concat(a,"-leaf-last")]:{["".concat(o,"-switcher")]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:"".concat(r/2,"px !important")}}}}})}},Ct=e=>{const{treeCls:t,treeNodeCls:n,treeNodePadding:o}=e;return{["".concat(t).concat(t,"-directory")]:{[n]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:o,insetInlineStart:0,transition:"background-color ".concat(e.motionDurationMid),content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1},["".concat(t,"-switcher")]:{transition:"color ".concat(e.motionDurationMid)},["".concat(t,"-node-content-wrapper")]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},["&".concat(t,"-node-selected")]:{color:e.colorTextLightSolid,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:e.colorPrimary},["".concat(t,"-switcher")]:{color:e.colorTextLightSolid},["".concat(t,"-node-content-wrapper")]:{color:e.colorTextLightSolid,background:"transparent"}}}}}},Nt=(e,t)=>{const n=".".concat(e),o="".concat(n,"-treenode"),a=t.paddingXS/2,l=t.controlHeightSM,r=L(t,{treeCls:n,treeNodeCls:o,treeNodePadding:a,treeTitleHeight:l});return[Et(e,r),Ct(r)]},Dt=T("Tree",((e,t)=>{let{prefixCls:n}=t;return[{[e.componentCls]:te("".concat(n,"-checkbox"),e)},Nt(n,e),Z(e)]})),Pt=()=>{const t=xe();return e(e({},t),{showLine:F([Boolean,Object]),multiple:B(),autoExpandParent:B(),checkStrictly:B(),checkable:B(),disabled:B(),defaultExpandAll:B(),defaultExpandParent:B(),defaultExpandedKeys:R(),expandedKeys:R(),checkedKeys:F([Array,Object]),defaultCheckedKeys:R(),selectedKeys:R(),defaultSelectedKeys:R(),selectable:B(),loadedKeys:R(),draggable:B(),showIcon:B(),icon:z(),switcherIcon:v.any,prefixCls:String,replaceFields:V(),blockNode:B(),openAnimation:v.any,onDoubleclick:t.onDblclick,"onUpdate:selectedKeys":z(),"onUpdate:checkedKeys":z(),"onUpdate:expandedKeys":z()})},Mt=l({compatConfig:{MODE:3},name:"ATree",inheritAttrs:!1,props:U(Pt(),{checkable:!1,selectable:!0,showIcon:!1,blockNode:!1}),slots:Object,setup(o,l){let{attrs:r,expose:c,emit:s,slots:d}=l;Y(!(void 0===o.treeData&&d.default));const{prefixCls:u,direction:v,virtual:h}=A("tree",o),[f,y]=Dt(u),g=i();c({treeRef:g,onNodeExpand:function(){var e;null===(e=g.value)||void 0===e||e.onNodeExpand(...arguments)},scrollTo:e=>{var t;null===(t=g.value)||void 0===t||t.scrollTo(e)},selectedKeys:p((()=>{var e;return null===(e=g.value)||void 0===e?void 0:e.selectedKeys})),checkedKeys:p((()=>{var e;return null===(e=g.value)||void 0===e?void 0:e.checkedKeys})),halfCheckedKeys:p((()=>{var e;return null===(e=g.value)||void 0===e?void 0:e.halfCheckedKeys})),loadedKeys:p((()=>{var e;return null===(e=g.value)||void 0===e?void 0:e.loadedKeys})),loadingKeys:p((()=>{var e;return null===(e=g.value)||void 0===e?void 0:e.loadingKeys})),expandedKeys:p((()=>{var e;return null===(e=g.value)||void 0===e?void 0:e.expandedKeys}))}),b((()=>{$(void 0===o.replaceFields,"Tree","`replaceFields` is deprecated, please use fieldNames instead")}));const k=(e,t)=>{s("update:checkedKeys",e),s("check",e,t)},K=(e,t)=>{s("update:expandedKeys",e),s("expand",e,t)},x=(e,t)=>{s("update:selectedKeys",e),s("select",e,t)};return()=>{const{showIcon:l,showLine:i,switcherIcon:c=d.switcherIcon,icon:s=d.icon,blockNode:p,checkable:b,selectable:S,fieldNames:O=o.replaceFields,motion:E=o.openAnimation,itemHeight:C=28,onDoubleclick:N,onDblclick:D}=o,T=e(e(e({},r),G(o,["onUpdate:checkedKeys","onUpdate:expandedKeys","onUpdate:selectedKeys","onDoubleclick"])),{showLine:Boolean(i),dropIndicatorRender:xt,fieldNames:O,icon:s,itemHeight:C}),L=d.default?w(d.default()):void 0;return f(t(lt,m(m({},T),{},{virtual:h.value,motion:E,ref:g,prefixCls:u.value,class:n({["".concat(u.value,"-icon-hide")]:!l,["".concat(u.value,"-block-node")]:p,["".concat(u.value,"-unselectable")]:!S,["".concat(u.value,"-rtl")]:"rtl"===v.value},r.class,y.value),direction:v.value,checkable:b,selectable:S,switcherIcon:n=>function(n,o,l,r,i){const{isLeaf:c,expanded:s,loading:d}=l;let u,v=o;if(d)return t(P,{class:"".concat(n,"-switcher-loading-icon")},null);i&&"object"==typeof i&&(u=i.showLeafIcon);let p=null;const h="".concat(n,"-switcher-icon");return c?i?u&&r?r(l):(p="object"!=typeof i||u?t(st,{class:"".concat(n,"-switcher-line-icon")},null):t("span",{class:"".concat(n,"-switcher-leaf-line")},null),p):null:(p=t(Kt,{class:h},null),i&&(p=t(s?pt:gt,{class:"".concat(n,"-switcher-line-icon")},null)),"function"==typeof o?v=o(e(e({},l),{defaultIcon:p,switcherCls:h})):M(v)&&(v=a(v,{class:h})),v||p)}(u.value,c,n,d.leafIcon,i),onCheck:k,onExpand:K,onSelect:x,onDblclick:D||N,children:L}),e(e({},d),{checkable:()=>t("span",{class:"".concat(u.value,"-checkbox-inner")},null)})))}}});var Tt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){jt(e,t,n[t])}))}return e}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ht=function(e,n){var o=Lt({},e,n.attrs);return t(D,Lt({},o,{icon:Tt}),null)};Ht.displayName="FolderOpenOutlined",Ht.inheritAttrs=!1;var It={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){Ft(e,t,n[t])}))}return e}function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bt,Rt,zt=function(e,n){var o=At({},e,n.attrs);return t(D,At({},o,{icon:It}),null)};function Vt(e,t,n){e.forEach((function(e){const o=e[t.key],a=e[t.children];!1!==n(o,e)&&Vt(a||[],t,n)}))}function _t(e){let{treeData:t,expandedKeys:n,startKey:o,endKey:a,fieldNames:l={title:"title",key:"key",children:"children"}}=e;const r=[];let i=Bt.None;if(o&&o===a)return[o];if(!o||!a)return[];return Vt(t,l,(e=>{if(i===Bt.End)return!1;if(function(e){return e===o||e===a}(e)){if(r.push(e),i===Bt.None)i=Bt.Start;else if(i===Bt.Start)return i=Bt.End,!1}else i===Bt.Start&&r.push(e);return n.includes(e)})),r}function Yt(e,t,n){const o=[...t],a=[];return Vt(e,n,((e,t)=>{const n=o.indexOf(e);return-1!==n&&(a.push(t),o.splice(n,1)),!!o.length})),a}zt.displayName="FolderOutlined",zt.inheritAttrs=!1,(Rt=Bt||(Bt={}))[Rt.None=0]="None",Rt[Rt.Start=1]="Start",Rt[Rt.End=2]="End";function Gt(e){const{isLeaf:n,expanded:o}=e;return t(n?st:o?Ht:zt,null,null)}const Ut=l({compatConfig:{MODE:3},name:"ADirectoryTree",inheritAttrs:!1,props:U(e(e({},Pt()),{expandAction:F([Boolean,String])}),{showIcon:!0,expandAction:"click"}),slots:Object,setup(o,a){let{attrs:l,slots:r,emit:s,expose:d}=a;var u;const v=i(o.treeData||Ae(w(null===(u=r.default)||void 0===u?void 0:u.call(r))));c((()=>o.treeData),(()=>{v.value=o.treeData})),g((()=>{y((()=>{var e;void 0===o.treeData&&r.default&&(v.value=Ae(w(null===(e=r.default)||void 0===e?void 0:e.call(r))))}))}));const h=i(),f=i(),b=p((()=>Ie(o.fieldNames))),k=i();d({scrollTo:e=>{var t;null===(t=k.value)||void 0===t||t.scrollTo(e)},selectedKeys:p((()=>{var e;return null===(e=k.value)||void 0===e?void 0:e.selectedKeys})),checkedKeys:p((()=>{var e;return null===(e=k.value)||void 0===e?void 0:e.checkedKeys})),halfCheckedKeys:p((()=>{var e;return null===(e=k.value)||void 0===e?void 0:e.halfCheckedKeys})),loadedKeys:p((()=>{var e;return null===(e=k.value)||void 0===e?void 0:e.loadedKeys})),loadingKeys:p((()=>{var e;return null===(e=k.value)||void 0===e?void 0:e.loadingKeys})),expandedKeys:p((()=>{var e;return null===(e=k.value)||void 0===e?void 0:e.expandedKeys}))});const K=i(o.selectedKeys||o.defaultSelectedKeys||[]),x=i((()=>{const{keyEntities:e}=Fe(v.value,{fieldNames:b.value});let t;return t=o.defaultExpandAll?Object.keys(e):o.defaultExpandParent?je(o.expandedKeys||o.defaultExpandedKeys||[],e):o.expandedKeys||o.defaultExpandedKeys,t})());c((()=>o.selectedKeys),(()=>{void 0!==o.selectedKeys&&(K.value=o.selectedKeys)}),{immediate:!0}),c((()=>o.expandedKeys),(()=>{void 0!==o.expandedKeys&&(x.value=o.expandedKeys)}),{immediate:!0});const S=J(((e,t)=>{const{isLeaf:n}=t;n||e.shiftKey||e.metaKey||e.ctrlKey||k.value.onNodeExpand(e,t)}),200,{leading:!0}),O=(e,t)=>{void 0===o.expandedKeys&&(x.value=e),s("update:expandedKeys",e),s("expand",e,t)},E=(e,t)=>{const{expandAction:n}=o;"click"===n&&S(e,t),s("click",e,t)},C=(e,t)=>{const{expandAction:n}=o;"dblclick"!==n&&"doubleclick"!==n||S(e,t),s("doubleclick",e,t),s("dblclick",e,t)},N=(t,n)=>{const{multiple:a}=o,{node:l,nativeEvent:r}=n,i=l[b.value.key],c=e(e({},n),{selected:!0}),d=(null==r?void 0:r.ctrlKey)||(null==r?void 0:r.metaKey),u=null==r?void 0:r.shiftKey;let p;a&&d?(p=t,h.value=i,f.value=p,c.selectedNodes=Yt(v.value,p,b.value)):a&&u?(p=Array.from(new Set([...f.value||[],..._t({treeData:v.value,expandedKeys:x.value,startKey:i,endKey:h.value,fieldNames:b.value})])),c.selectedNodes=Yt(v.value,p,b.value)):(p=[i],h.value=i,f.value=p,c.selectedNodes=Yt(v.value,p,b.value)),s("update:selectedKeys",p),s("select",p,c),void 0===o.selectedKeys&&(K.value=p)},D=(e,t)=>{s("update:checkedKeys",e),s("check",e,t)},{prefixCls:P,direction:M}=A("tree",o);return()=>{const e=n("".concat(P.value,"-directory"),{["".concat(P.value,"-directory-rtl")]:"rtl"===M.value},l.class),{icon:a=r.icon,blockNode:i=!0}=o,c=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n}(o,["icon","blockNode"]);return t(Mt,m(m(m({},l),{},{icon:a||Gt,ref:k,blockNode:i},c),{},{prefixCls:P.value,class:e,expandedKeys:x.value,selectedKeys:K.value,onSelect:N,onClick:E,onDblclick:C,onExpand:O,onCheck:D}),r)}}}),$t=Oe,Wt=e(Mt,{DirectoryTree:Ut,TreeNode:$t,install:e=>(e.component(Mt.name,Mt),e.component($t.name,$t),e.component(Ut.name,Ut),e)});export{ve as L,Wt as T,Ut as _,Fe as a,_e as b,ne as c,Ee as d,pe as e,Ce as f,Ye as u};
