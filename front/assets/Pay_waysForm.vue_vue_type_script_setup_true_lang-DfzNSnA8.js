import{d as a,X as e,h as s,j as l,Y as o,k as t,r,S as n,n as i,z as d,q as c,v as u,O as m,E as p,Z as v,A as _,x as f,c as y,M as g,T as b,L as x,G as k,U as w}from"./index-D0wN_fuZ.js";import{_ as h}from"./RForm.vue_vue_type_script_setup_true_lang-HqTuq9xx.js";import{P as j}from"./pay_ways.model-B9mGbyfv.js";import{_ as V}from"./RButton.vue_vue_type_style_index_0_lang-DWca47Ax.js";import{R as E}from"./index-CFoXpmaN.js";import{_ as C}from"./REditor.vue_vue_type_style_index_0_lang-B9q55COs.js";import{C as M}from"./RestBase-6hwWqa7t.js";const R={class:"r-container-form"},A={class:"mt-10 sm:mt-0"},N={class:"shadow overflow-hidden sm:rounded-md"},S={class:"px-4 py-5 bg-white dark:bg-slate-800 sm:p-6"},U={class:"grid grid-cols-4 gap-4"},F={class:"grid-input"},L={class:"col-span-4"},P={class:"px-4 py-3 bg-gray-50 dark:bg-slate-700 dark:bg-opacity-70 text-right sm:px-6"},q={class:"r-footer-form"},z={class:"flex"},B={key:0,class:"flex-none items-center"},I=[f("label",{for:"andNew",class:"font-bold text-gray-700 dark:text-slate-200 !cursor-pointer"},[x("Insertar y nuevo "),f("span",{id:"andNew-description",class:"ml-1 text-muted"},"Se insertara un elemento y reiniciara el formuario")],-1)],O={class:"r-footer-button-form"},G=a({__name:"Pay_waysForm",props:e({modal:s.bool.def(!1),action:s.string.def("create"),loading_text:s.string.def(""),showLoading:s.bool.def(!0)},{modelValue:{},modelModifiers:{}}),emits:e(["closeModal","reload"],["update:modelValue"]),setup(a,{emit:e}){const s=l(),G=a,H=e,K="create"==G.action?"Crear":"Actualizar",T=o(a,"modelValue"),X=t(new j(T.value)),Y=r(),Z=r(!1),{loading:$,toggleEnabled:D,onResult:J,enabled:Q,onError:W}=j.useStaticSave(X,{defaultEnabled:!1}),aa=r(!1),ea=()=>{G.modal?H("closeModal"):s.push({name:"pay_ways_list"})};async function sa(){var a;await(null==(a=Y.value)?void 0:a.validate())&&D()}return W((a=>{n("error","Error en accion","Error en accion del elemento")})),J((a=>{var e;n("success","Accion  "+K,"Accion ejecutada correctamente"),Z.value?(null==(e=Y.value)||e.clear(),Q.value=!1,Object.assign(X,new j(T.value)),G.modal&&H("reload")):G.modal?H("closeModal",!0):s.push({name:"pay_ways_list"})})),(e,s)=>{const l=M;return i(),d(w,null,[a.showLoading?(i(),c(v,{key:0,"h-full":!0,class:"",loading:p(aa),description:G.loading_text},{default:u((()=>[m(e.$slots,"loading_icon")])),_:3},8,["loading","description"])):_("",!0),f("div",R,[f("div",A,[f("div",N,[y(h,{ref_key:"pay_waysForm",ref:Y,state:p(X),validations:p(j).validations[a.action],feedbacks:p(j).feedbacks[a.action],loading:!0},{default:u((()=>[f("div",S,[f("div",U,[f("div",F,[y(p(E),{type:"text",requiredMark:!0,modelValue:p(X).name,"onUpdate:modelValue":s[0]||(s[0]=a=>p(X).name=a),path:"name",label:"Name",onKeyup:g(sa,["enter"])},null,8,["modelValue"])]),f("div",L,[y(C,{modelValue:p(X).instructions,"onUpdate:modelValue":s[1]||(s[1]=a=>p(X).instructions=a),path:"instructions",label:"Instructions"},null,8,["modelValue"])])])]),f("div",P,[f("div",q,[f("div",z,["create"===a.action?(i(),d("div",B,[y(l,{checked:p(Z),"onUpdate:checked":s[2]||(s[2]=a=>b(Z)?Z.value=a:null),"aria-describedby":"offers-description",id:"andNew"},null,8,["checked"])])):_("",!0),"create"===a.action?(i(),d("div",{key:1,onClick:s[3]||(s[3]=a=>p(Z).value!=p(Z).value),class:"flex text-sm absolute mx-[2rem] my-[4px]"},I)):_("",!0)]),f("div",O,[y(V,{class:"ml-5",shadow:"",color:"primary",loading:p($),onClick:sa},{default:u((()=>[x(k(p(K))+" Pay_ways ",1)])),_:1},8,["loading"]),y(V,{class:"ml-5",shadow:"",color:"primary",onClick:ea},{default:u((()=>[x(" Cancelar ")])),_:1})])])])])),_:1},8,["state","validations","feedbacks"])])])])],64)}}});export{G as _};
